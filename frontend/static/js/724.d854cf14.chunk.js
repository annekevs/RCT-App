(self.webpackChunktraumaregistry_web=self.webpackChunktraumaregistry_web||[]).push([[724],{6744:function(e,t,s){"use strict";s.r(t),s.d(t,{AdminRoutes:function(){return _t},default:function(){return yt}});var n,i,r,a=s(4880),l=s(6355),o=s(9439),c=s(2884),d=s(2791),u=s(9851),m=s(4055),p=s(6147),x=s(168),j=s(3994),f=s(7692),h=s(184),v=j.Z.div(n||(n=(0,x.Z)(["\n  .clicked {\n    color: ",";\n  }\n"])),m._8),b=function(e){var t=e.routes,s=e.clicked,n=(0,a.k6)();return(0,h.jsx)(v,{children:(0,h.jsx)("aside",{id:"sidebar",className:"sidebar",children:(0,h.jsx)("ul",{className:"sidebar-nav",id:"sidebar-nav",children:t.map((function(e){return e.subItems?(0,h.jsxs)("li",{className:"nav-item",children:[(0,h.jsxs)("div",{className:s.includes(e.clicked)?"nav-link active":"nav-link collapsed","data-bs-target":"#".concat(e.clicked),"data-bs-toggle":"collapse",children:[(0,h.jsx)("i",{children:e.icon(s)}),(0,h.jsx)("span",{children:e.title})," ",(0,h.jsx)("i",{className:"bi bi-chevron-down ms-auto",children:(0,h.jsx)(f.OrA,{})})]}),(0,h.jsx)("ul",{id:"".concat(e.clicked),className:s.includes(e.clicked)?"nav-content collapse show":"nav-content collapse","data-bs-parent":"#sidebar-nav",children:e.subItems.map((function(e){return(0,h.jsxs)("li",{children:[(0,h.jsxs)("div",{className:s===e.clicked?"active":"",onClick:function(){return n.push({pathname:e.link,state:{formationSanitaire:e.values?e.select:null}})},"data-bs-toggle":"collapse","data-bs-target":"#collapseWidth-"+e.clicked,"aria-expanded":"false","aria-controls":"#collapseWidth-"+e.clicked,children:[(0,h.jsx)("i",{children:e.icon(s)}),(0,h.jsx)("span",{children:e.title})]}),e.values&&s===e.clicked?(0,h.jsx)("div",{className:"collapse",id:"collapseWidth-"+e.clicked,children:e.values}):""]},e.clicked)}))})]},e.clicked):(0,h.jsx)("li",{className:"nav-item",children:(0,h.jsxs)("div",{className:s===e.clicked?"nav-link active":"nav-link",onClick:function(){return n.push(e.link)},children:[(0,h.jsx)("i",{children:e.icon(s)}),(0,h.jsx)("span",{children:e.title})]})},e.clicked)}))})})})},g=s(9555),_=function(e){var t=e.clicked,s=e.children,n=e.praticien,i=e.formation_sanitaire,r=(0,d.useState)(!1),l=(0,o.Z)(r,2),m=l[0],x=l[1],j=(0,a.k6)(),f=localStorage.getItem("praticiens"),v=f?JSON.parse(f):[],_=localStorage.getItem("formationSanitaires"),N=_?JSON.parse(_):[],E=(0,d.useState)(n),S=(0,o.Z)(E,2),Z=S[0],A=S[1],P=(0,d.useState)(i),I=(0,o.Z)(P,2),R=I[0],q=I[1],T=[],k=[],w=function(e){var t,s;q(null===(t=N.find((function(t){return t.id===e})))||void 0===t?void 0:t.id),j.push({pathname:u.Z.REGISTRE_PAGE.FORMATION_SANITAIRE,state:{formation_sanitaire:null===(s=N.find((function(t){return t.id===e})))||void 0===s?void 0:s.id}})},D=function(e){A(v.find((function(t){return t.id===e})).id),j.push({pathname:u.Z.REGISTRE_PAGE.PRATICIEN,state:{praticien:v.find((function(t){return t.id===e})).id}})};v.map((function(e){T.push({value:e.id,label:e.nom+"  "+e.prenom})})),N.map((function(e){k.push({value:e.id,label:e.designation})}));return(0,h.jsxs)("div",{className:m?"toggle-sidebar":"",children:[(0,h.jsx)(p.w,{homeLink:u.Z.ADMIN_PAGE.DASHBOARD,shrink:m,setShrink:x}),(0,h.jsx)(b,{routes:y({node:(0,h.jsx)(g.Z,{showSearch:!0,placeholder:"",optionFilterProp:"children",defaultActiveFirstOption:!0,filterOption:function(e,t){var s;return(null!==(s=null===t||void 0===t?void 0:t.label)&&void 0!==s?s:"").toLowerCase().includes(e)},filterSort:function(e,t){var s,n;return(null!==(s=null===e||void 0===e?void 0:e.label)&&void 0!==s?s:"").toLowerCase().localeCompare((null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase())},options:k,className:"col-12",defaultValue:R,onChange:w}),value:R},{node:(0,h.jsx)(g.Z,{showSearch:!0,placeholder:"",optionFilterProp:"children",defaultActiveFirstOption:!0,filterOption:function(e,t){var s;return(null!==(s=null===t||void 0===t?void 0:t.label)&&void 0!==s?s:"").toLowerCase().includes(e)},filterSort:function(e,t){var s,n;return(null!==(s=null===e||void 0===e?void 0:e.label)&&void 0!==s?s:"").toLowerCase().localeCompare((null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase())},options:T,className:"col-12",defaultValue:Z,onChange:D}),value:Z}),clicked:t}),(0,h.jsx)("main",{id:"main",className:"main",children:(0,h.jsx)("div",{children:s})}),(0,h.jsx)(c.q,{}),(0,h.jsx)("a",{href:u.Z.ADMIN_PAGE.DASHBOARD,className:"back-to-top d-flex align-items-center justify-content-center",children:(0,h.jsx)("i",{className:"bi bi-arrow-up-short"})})]})},y=function(e,t){return[{icon:function(e){return(0,h.jsx)(l.xng,{color:"admin-dashboard"===e?m.k8:m.MO,size:24})},link:"/admin/dashboard",title:"Dashboard",clicked:"admin-dashboard"},{icon:function(e){return(0,h.jsx)(l.$F9,{color:e.includes("users")?m.k8:m.MO,size:24})},link:"/admin/users",title:"Utilisateurs",clicked:"users",subItems:[{icon:function(e){return(0,h.jsx)(l.Bj$,{color:"users-new"===e?m.k8:m.MO,size:24})},link:"/admin/users/new",title:"Ajouter un utilisateur",clicked:"users-new"},{icon:function(e){return(0,h.jsx)(l.I$,{color:"users-list"===e?m.k8:m.MO,size:24})},link:"/admin/users/list",title:"Liste des utilisateurs",clicked:"users-list"},{icon:function(e){return(0,h.jsx)(l.KKr,{color:"users-demandes"===e?m.k8:m.MO,size:24})},link:"/admin/users/demandes",title:"Demandes d'adh\xe9sion",clicked:"users-demandes"}]},{icon:function(e){return(0,h.jsx)(l.B8A,{color:e.includes("patients")?m.k8:m.MO,size:24})},link:"/admin/patients",title:"Patients",clicked:"patients",subItems:[{icon:function(e){return(0,h.jsx)(l.Bj$,{color:"patients-new"===e?m.k8:m.MO,size:24})},link:"/admin/patients/new",title:"Ajouter un patient",clicked:"patients-new"},{icon:function(e){return(0,h.jsx)(l.I$,{color:"patients-list"===e?m.k8:m.MO,size:24})},link:"/admin/patients/list",title:"Liste des patients",clicked:"patients-list"}]},{icon:function(e){return(0,h.jsx)(l.wYc,{color:e.includes("registre")?m.k8:m.MO,size:24})},link:"/admin/registre",title:"Registres",clicked:"registre",subItems:[{icon:function(e){return(0,h.jsx)(l.hON,{color:"registre-all"===e?m.k8:m.MO,size:24})},link:"/admin/registre/all",title:"Registre principal",clicked:"registre-all"},{icon:function(e){return(0,h.jsx)(l.dud,{color:"registre-fs"===e?m.k8:m.MO,size:24})},link:"/admin/registre/fs",title:"Formations sanitaires",clicked:"registre-fs",values:e.node,select:e.value},{icon:function(e){return(0,h.jsx)(l.etr,{color:"registre-praticien"===e?m.k8:m.MO,size:24})},link:"/admin/registre/praticien",title:"Practiciens",clicked:"registre-praticien",values:t.node,select:t.value},{icon:function(e){return(0,h.jsx)(l.lbL,{color:"registre-traitement"===e?m.k8:m.MO,size:24})},link:"/admin/registre/traitement",title:"Instance de traitement",clicked:"registre-traitement"},{icon:function(e){return(0,h.jsx)(l.AMf,{color:"registre-tampon"===e?m.k8:m.MO,size:24})},link:"/admin/registre/tampon",title:"Registre tampon",clicked:"registre-tampon"},{icon:function(e){return(0,h.jsx)(l.L03,{color:"registre-deces"===e?m.k8:m.MO,size:24})},link:"/admin/registre/deces",title:"Registre des d\xe9ces",clicked:"registre-deces"}]},{icon:function(e){return(0,h.jsx)(l.NMh,{color:e.includes("analyse")?m.k8:m.MO,size:24})},link:"/admin/analyse",title:"Analyse des donn\xe9es",clicked:"analyse",subItems:[{icon:function(e){return(0,h.jsx)(l.C$r,{color:"analyse-new"===e?m.k8:m.MO,size:24})},link:"/admin/analyse/new",title:"Faire une analyse",clicked:"analyse-new"},{icon:function(e){return(0,h.jsx)(l.F6B,{color:"analyse-demande-new"===e?m.k8:m.MO,size:24})},link:"/admin/analyse/demandes/new",title:"Effectuer une demande",clicked:"analyse-demande-new"},{icon:function(e){return(0,h.jsx)(l.KKr,{color:"analyse-demande-list"===e?m.k8:m.MO,size:24})},link:"/admin/analyse/demandes/list",title:"Liste des demandes",clicked:"analyse-demande-list"},{icon:function(e){return(0,h.jsx)(l.ceS,{color:"analyse-historique"===e?m.k8:m.MO,size:24})},link:"/admin/analyse/historique",title:"Historique",clicked:"analyse-historique"}]},{icon:function(e){return(0,h.jsx)(l.rU2,{color:e.includes("parametres")?m.k8:m.MO,size:24})},link:"/admin/parametres",title:"Param\xe8tres",clicked:"parametres",subItems:[{icon:function(e){return(0,h.jsx)(l.PWh,{color:"parametres-donnees"===e?m.k8:m.MO,size:24})},link:"/admin/parametres/donnees",title:"Donn\xe9es de base",clicked:"parametres-donnees"},{icon:function(e){return(0,h.jsx)(l.CP_,{color:"parametres-configuration"===e?m.k8:m.MO,size:24})},link:"/admin/parametres/configuration",title:"Configuration",clicked:"parametres-configuration"}]}]},N=function(e){var t=e.card;return(0,h.jsx)("div",{className:"card p-0 mb-1",children:(0,h.jsx)("div",{className:"card-body text-center p-1",children:(0,h.jsxs)("div",{className:"card-text row align-items-end",children:[(0,h.jsx)("span",{className:"col-md-3 pb-1",children:(0,h.jsx)("i",{className:"card-icon rounded-circle",children:t.icon})}),(0,h.jsxs)("div",{className:"col-md-9 mx-0",children:[(0,h.jsx)("span",{children:t.title}),(0,h.jsxs)("h3",{className:"mb-0",children:[" ",t.value]})]})]})})})},E=function(e){var t=e.card,s=e.size,n=(0,a.k6)();return(0,h.jsxs)("div",{className:"card p-0",style:{cursor:"pointer",width:s||"23%",marginRight:18},onClick:function(){return n.push(t.link)},children:[(0,h.jsx)("span",{className:"card-header m-0",style:{backgroundColor:t.color},children:" "}),(0,h.jsx)("div",{className:"card-body text-center ",children:(0,h.jsxs)("div",{className:"card-text row",children:[(0,h.jsx)("span",{className:"col-md-3",children:(0,h.jsx)("i",{className:"card-icon rounded-circle",children:t.icon()})}),(0,h.jsxs)("div",{className:"col-md-9 mx-0",children:[(0,h.jsxs)("h2",{className:"mb-0",children:[" ",t.value," "]}),(0,h.jsx)("span",{children:t.description})]})]})}),(0,h.jsxs)("span",{className:"card-footer d-flex",style:{backgroundColor:t.color},children:[(0,h.jsx)(l.Dli,{className:"ms-auto",color:"white",size:10})," "]})]})},S=function(){return(0,h.jsxs)(_,{clicked:"admin-dashboard",children:[(0,h.jsxs)("h2",{className:"mt-3",style:{fontFamily:"revert-layer"},children:[" ","Welcome ADMIN !"]}),(0,h.jsx)("div",{className:"row d-flex ms-auto",style:{marginTop:"10 %"},children:Z.map((function(e){return(0,h.jsx)(E,{card:e})}))})]})},Z=[{title:"Dossiers",description:"Dossiers",value:14700,color:m.xO,icon:function(){return(0,h.jsx)(l.X4v,{size:48,color:m.xO})},link:"/admin/registre/all"},{title:"Patients",description:"Patients",value:145,color:m.Xt,icon:function(){return(0,h.jsx)(l.AAH,{size:48,color:m.Xt})},link:u.Z.PATIENT_PAGE.LIST_PATIENT},{title:"Medecins",description:"Medecins",value:25,color:m.k8,icon:function(){return(0,h.jsx)(l.etr,{size:48,color:m.k8})},link:"/admin/users/list"},{title:"Demandes",description:"Demandes",value:17,color:m.Y,icon:function(){return(0,h.jsx)(l.KKr,{size:48,color:m.Y})},link:"/admin/analyse/demandes/list"}],A=s(3278),P=s(6685),I=function(){return(0,h.jsxs)(_,{clicked:"users-new",children:[(0,h.jsx)("h2",{children:" Ajouter un utilisateur "}),(0,h.jsx)("div",{className:"card mt-0",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(P.J,{})})})]})},R=s(1363),q=s(1046),T=s(3433),k=s(9389),w=s(4583),D=s(2426),C=s.n(D),O=["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","A\xf4ut","Septembre","Octobre","Novembre","D\xe9cembre"],L=[{full:"Dimanche",abbr:"Dim"},{full:"Lundi",abbr:"Lun"},{full:"Mardi",abbr:"Mar"},{full:"Mercredi",abbr:"Mer"},{full:"Jeudi",abbr:"Jeu"},{full:"Vendredi",abbr:"Ven"},{full:"Samedi",abbr:"Sam"}],M=function(e){var t=new Date(e);return"".concat(L[t.getDay()].abbr," ").concat(t.getDate()," ").concat(O[t.getMonth()]," ").concat(t.getFullYear()," \xe0 ").concat(F(t),":").concat(z(t))},F=function(e){var t=e.getHours().toString();return 1===t.length?"0".concat(t):t},z=function(e){var t=e.getMinutes().toString();return 1===t.length?"0".concat(t):t},U=j.Z.div(i||(i=(0,x.Z)(["\n  th {\n    background-color: "," !important;\n    color: white !important;\n    font-weight: bold;\n  }\n\n  @media (min-width: 768px) {\n    zoom: 1;\n  }\n"])),m.Ur),G=function(e){var t=e.data,s=e.columns,n=e.loading,i=e.selectedRowKeys,r=e.onSelectedRowKeysChange,a=e.filterFunction,l=e.buttons,c=e.expandable,u=e.expandField,m=(0,d.useState)(""),p=(0,o.Z)(m,2),x=p[0],j=p[1],f=null===t||void 0===t?void 0:t.filter((function(e){return!a||a(e,x)})),v={selectedRowKeys:i,onChange:r};return(0,h.jsxs)(U,{children:[(0,h.jsxs)(q.Z,{style:{marginBottom:10},children:[(0,h.jsx)(k.Z,{placeholder:"Filtrer",style:{width:300},value:x,onChange:function(e){return j(e.target.value)}}),l]}),(0,h.jsx)(w.Z,{rowSelection:i?v:void 0,dataSource:f,columns:s,loading:n,expandable:c&&u?{expandedRowRender:function(e){return(0,h.jsxs)("span",{children:["Categorie creee le : ",M(e[u])]})}}:{},size:"middle",rowKey:"_id",onRow:function(e){return{onClick:function(){!function(e){if(i&&r){var t=[];0===i.length?t=[e]:i.indexOf(e)<0&&(t=[].concat((0,T.Z)(i),[e])),r(t)}}(e._id)}}}})]})},K=s(6726),W=s(2339),Y=s(1523),V=s(9210),X=function(){var e=(0,a.k6)(),t=localStorage.getItem("organismes"),s=t?JSON.parse(t):[];return[{title:"Nom",key:"user-nom",render:function(e,t){return(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-uppercase",children:e.nom+" "}),e.prenom]})}},{title:"Adresse mail",key:"user-adresse_mail",render:function(e,t){return(0,h.jsx)("span",{children:e.adresse_mail})}},{title:"Telephone",key:"user-telephone",render:function(e,t){return(0,h.jsxs)("span",{children:[t.telephone," "]})}},{title:"Formations sanitaires",key:"user-formation_sanitaire",render:function(e,t){return(0,h.jsx)("div",{children:(0,h.jsx)("ul",{children:s.map((function(e){if(t.organismes.includes(e.id)&&e.type_organisme===V.jj.FORMATION_SANITAIRE)return(0,h.jsx)("li",{children:(0,h.jsx)(Y.rU,{to:{pathname:u.Z.REGISTRE_PAGE.FORMATION_SANITAIRE,state:{formation_sanitaire:e.id}},children:e.designation})})}))})})}},{title:"Dossiers",key:"user-dossiers",render:function(e,t){return(0,h.jsx)(Y.rU,{to:{pathname:u.Z.REGISTRE_PAGE.PRATICIEN,state:{praticien:t.id}},className:"text-center",children:(0,h.jsx)(K.Z,{color:2===t.statut?"green":"orange",count:t.dossiers.length,title:"Nombre de dossiers",showZero:!0,className:"text-center"})})}},{title:"Statut",key:"user-statut",render:function(e,t){return(0,h.jsxs)("span",{children:[" ",Q(t.statut)," "]})}},{title:"Actions",key:"user-actions",render:function(t,s){return(0,h.jsx)(q.Z,{children:(0,h.jsx)("div",{style:{cursor:"pointer"},children:(0,h.jsx)(l.DAO,{size:24,color:m.MO,onClick:function(){return e.push({pathname:u.Z.USER_PAGE.SHOW_USER,state:{user:s,readOnly:!0}})},style:{color:"#FF4D4F"}})})})}}]},Q=function(e){switch(e){case 0:return(0,h.jsx)(W.Z,{icon:(0,h.jsx)(l.NWQ,{size:12}),color:"processing",className:"rounded-pill",bordered:!1,children:(0,h.jsx)("span",{children:" nouveau "})});case 1:return(0,h.jsx)(W.Z,{icon:(0,h.jsx)(l.qyc,{size:12}),color:"processing",className:"rounded-pill",bordered:!1,children:(0,h.jsx)("span",{children:" en attente "})});case 2:return(0,h.jsx)(W.Z,{icon:(0,h.jsx)(l.l_A,{size:12}),color:"success",className:"rounded-pill",bordered:!1,children:(0,h.jsx)("span",{children:" accept\xe9e "})});case 3:return(0,h.jsx)(W.Z,{icon:(0,h.jsx)(l.zYX,{size:12,className:"rounded-pill"}),color:"error",className:"rounded-pill",bordered:!1,children:(0,h.jsx)("span",{children:" rejet\xe9e "})});default:return(0,h.jsx)(W.Z,{icon:(0,h.jsx)(l.l_A,{size:12}),color:"default",className:"rounded-pill",bordered:!1,children:(0,h.jsx)("span",{children:" en attente "})})}},H=function(){var e=(0,a.k6)(),t=(0,d.useState)(!0),s=(0,o.Z)(t,2),n=s[0],i=s[1],r=(0,d.useState)([]),l=(0,o.Z)(r,2),c=l[0],m=l[1];return(0,d.useEffect)((function(){(0,R.wT)().then((function(e){e.success&&(console.log("liste des medecins : ",e.result),m(e.result),i(!1))}))}),[]),(0,h.jsx)("div",{children:(0,h.jsx)(G,{loading:n,data:c,columns:X(),filterFunction:function(e,t){return e.nom.toLowerCase().includes(t)||e.prenom.toLowerCase().includes(t)},buttons:(0,h.jsx)(q.Z,{children:(0,h.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){e.push(u.Z.USER_PAGE.ADD_USER)},children:"Ajouter"})})},"list-user-table")})},B=function(){return(0,h.jsxs)(_,{clicked:"users-list",children:[(0,h.jsx)("h5",{children:" Liste des utilisateurs "}),(0,h.jsx)("hr",{}),(0,h.jsx)(H,{})]})},J=s(4165),$=s(5861),ee=s(5562),te=s(43),se=s(8715),ne=s(2962),ie=s(7174),re=s(5058),ae=s(9126),le=function(e){var t,s=e.user,n=(0,d.useState)([]),i=(0,o.Z)(n,2),r=i[0],a=i[1],c=(0,d.useState)([]),u=(0,o.Z)(c,2),m=u[0],p=u[1];(0,d.useEffect)((function(){(0,R.mF)().then((function(e){e.success&&a(e.result)})).then((function(){(0,R.Js)().then((function(e){e.success&&p(e.result)}))}))}),[]);var x=[{key:"1",label:(0,h.jsxs)("span",{children:[(0,h.jsx)(ae.gW$,{className:"mx-3",size:28}),"Donn\xe9es personnelles"]}),children:(0,h.jsx)("div",{className:"row mx-3",children:(0,h.jsxs)(ie.Z,{title:"",column:1,children:[(0,h.jsx)(ie.Z.Item,{label:"Nom",children:s.nom}),(0,h.jsx)(ie.Z.Item,{label:"Pr\xe9nom",children:s.prenom}),(0,h.jsx)(ie.Z.Item,{label:"Sexe",children:s.sexe}),(0,h.jsx)(ie.Z.Item,{label:"Date de naissance",children:s.date_naissance}),(0,h.jsx)(ie.Z.Item,{label:"Adresse mail",children:s.adresse_mail}),(0,h.jsx)(ie.Z.Item,{label:"Telephone",children:s.telephone}),(0,h.jsx)(ie.Z.Item,{label:"Adresse",children:s.adresse})]})})},{key:"2",label:(0,h.jsxs)("span",{children:[(0,h.jsx)(l.etr,{className:"mx-3",size:28}),"Statut m\xe9dical"]}),children:(0,h.jsx)("div",{className:"row mx-3",children:(0,h.jsxs)(ie.Z,{title:"",column:1,children:[(0,h.jsx)(ie.Z.Item,{label:"N\xb0 ONMC",children:s.id}),(0,h.jsx)(ie.Z.Item,{label:"Qualification",children:null===(t=r.find((function(e){return e.id===s.qualification})))||void 0===t?void 0:t.designation}),(0,h.jsx)(ie.Z.Item,{label:"Ann\xe9es d'experience",children:s.date_fonction}),(0,h.jsx)(ie.Z.Item,{label:"R\xe9seaux de traumatologie",children:(0,h.jsx)("ul",{children:m.map((function(e){if(s.organismes.includes(e.id)&&e.type_organisme===V.jj.RESEAU_TRAUMATOLOGIE)return(0,h.jsx)("li",{children:e.designation})}))})}),(0,h.jsx)(ie.Z.Item,{label:"Formations sanitaires",children:(0,h.jsx)("ul",{children:m.map((function(e){if(s.organismes.includes(e.id)&&e.type_organisme===V.jj.FORMATION_SANITAIRE)return(0,h.jsx)("li",{children:e.designation})}))})})]})})}];return(0,h.jsx)("div",{children:(0,h.jsx)(re.Z,{defaultActiveKey:"1",items:x})})},oe=function(){var e=(0,d.useState)(!0),t=(0,o.Z)(e,2),s=t[0],n=t[1],i=(0,d.useState)([]),r=(0,o.Z)(i,2),a=r[0],l=r[1],c=(0,d.useState)(!1),u=(0,o.Z)(c,2),p=u[0],x=u[1],j=(0,d.useState)(!0),f=(0,o.Z)(j,2),v=f[0],b=f[1];(0,d.useEffect)((function(){v&&(0,R.t8)().then((function(e){e.success?(l(e.result),n(!1),b(!1)):ee.Z.error({message:"Erreur",description:"Impossible de r\xe9cuperer la liste des demandes"})}))}),[v]);var g=function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t,s){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,(0,R.dm)({demandeID:t.id,medecin:t.personne,motif:s||null}).then((function(e){e.success&&(x(!1),ee.Z.success({message:"Succes",description:"La demande a bien \xe9t\xe9 rejet\xe9e. Un mail sera envoy\xe9 au m\xe9decin."}),b(!0))})).catch((function(e){ee.Z.error({message:"Erreur",description:"L'op\xe9ration n'a pu \xeatre effectu\xe9e. Veuillez reessayer plus tard."})}));case 3:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),_=function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t,s){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,(0,R.xr)({demandeID:t.id,medecin:t.personne,motif:s||null}).then((function(e){e.success&&(x(!1),ee.Z.success({message:"Succes",description:"La demande a bien \xe9t\xe9 accept\xe9e. Un mail sera envoy\xe9 au m\xe9decin."}),b(!0))})).catch((function(e){ee.Z.error({message:"Erreur",description:"L'op\xe9ration n'a pu \xeatre effectu\xe9e. Veuillez reessayer plus tard."})}));case 3:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),y=function(e){return(0,h.jsx)("div",{children:(0,h.jsx)(te.Z,{spinning:p,children:(0,h.jsx)("div",{className:"modal fade",id:"itemModal-"+e.id,tabIndex:-1,children:(0,h.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,h.jsxs)("div",{className:"modal-content",children:[(0,h.jsxs)("div",{className:"modal-header",children:[(0,h.jsx)("h5",{className:"modal-title",children:"Demande d'adh\xe9sion"}),(0,h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,h.jsx)("div",{className:"modal-body",children:(0,h.jsx)(le,{user:e.personne},"infoUser-"+e.id)}),(0,h.jsx)("div",{className:"modal-footer",children:0===e.statut||1===e.statut?(0,h.jsxs)(q.Z,{children:[(0,h.jsx)("button",{type:"button",className:"btn btn-outline-danger rounded-pill","data-bs-dismiss":"modal",onClick:function(){return g(e)},children:"Refuser"}),(0,h.jsx)("button",{type:"button",className:"btn btn-outline-primary rounded-pill","data-bs-dismiss":"modal",onClick:function(){return _(e)},children:"Accepter"})]}):(0,h.jsx)("span",{})})]})})})})})};return(0,h.jsx)("div",{className:"card",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(te.Z,{spinning:s,children:(0,h.jsx)(se.Z,{className:"demo-loadmore-demandes",loading:s,itemLayout:"horizontal",dataSource:a,renderItem:function(e){return(0,h.jsx)(se.Z.Item,{actions:0===e.statut||1===e.statut?[(0,h.jsxs)("span",{children:[" ",e.date_envoie]})]:[(0,h.jsxs)("span",{children:[" Envoy\xe9 le ",e.date_reponse]})],extra:y(e),children:(0,h.jsx)(se.Z.Item.Meta,{avatar:(0,h.jsx)(ne.C,{style:{backgroundColor:m.Nu[Math.floor(Math.random()*m.Nu.length)],verticalAlign:"middle"},size:"large",children:e.personne.nom.charAt(0)+e.personne.prenom.charAt(0)}),title:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("span",{className:"col-md-4",children:e.personne.nom+"  "+e.personne.prenom}),(0,h.jsx)("span",{className:"col-md-8 ms-auto text-end",children:0===e.statut||1===e.statut?ce("en attente"):2===e.statut?ce("accept\xe9e"):ce("rejet\xe9e")})]}),description:"Je souhaite devenir membre du Registre Camerounais de Traumatologie",style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#itemModal-"+e.id})})}})})})})},ce=function(e){switch(e){case"nouveau":return(0,h.jsx)(W.Z,{icon:(0,h.jsx)(l.NWQ,{size:12}),color:"processing",className:"rounded-pill",bordered:!1,children:(0,h.jsx)("span",{children:" nouveau "})});case"en attente":return(0,h.jsx)(W.Z,{icon:(0,h.jsx)(l.qyc,{size:12}),color:"processing",className:"rounded-pill",bordered:!1,children:(0,h.jsx)("span",{children:" en attente "})});case"accept\xe9e":return(0,h.jsx)(W.Z,{icon:(0,h.jsx)(l.l_A,{size:12}),color:"success",className:"rounded-pill",bordered:!1,children:(0,h.jsx)("span",{children:" accept\xe9e "})});case"rejet\xe9e":return(0,h.jsx)(W.Z,{icon:(0,h.jsx)(l.zYX,{size:12,className:"rounded-pill"}),color:"error",className:"rounded-pill",bordered:!1,children:(0,h.jsx)("span",{children:" rejet\xe9e "})});default:return(0,h.jsx)(W.Z,{icon:(0,h.jsx)(l.l_A,{size:12}),color:"default",className:"rounded-pill",bordered:!1,children:(0,h.jsx)("span",{children:" en attente "})})}},de=function(){return(0,h.jsxs)(_,{clicked:"users-demandes",children:[(0,h.jsx)("h5",{children:" Demandes d'adh\xe9sion "}),(0,h.jsx)("hr",{}),(0,h.jsx)("div",{className:"container",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(oe,{})})})]})},ue=s(7846),me=s(8266),pe=s(2104),xe=[{id:"M",code:"M",designation:"Homme",description:""},{id:"F",code:"M",designation:"Femme",description:""}],je=function(e){var t=e.patient,s=e.readOnly,n=(0,a.k6)(),i=ue.Z.useForm(),r=(0,o.Z)(i,1)[0],c=ue.Z.useWatch("date_naissance",r),m=(0,d.useState)(!1),p=(0,o.Z)(m,2),x=p[0],j=p[1],f=(0,d.useState)([]),v=(0,o.Z)(f,2),b=v[0],g=v[1],_=(0,d.useState)([]),y=(0,o.Z)(_,2),N=y[0],E=y[1],S=(0,d.useState)(s),Z=(0,o.Z)(S,2),A=Z[0],P=Z[1];console.log("patient info form readOnly ?",A,t,s);var I=function(e){var t=C()().diff(C()(e,"YYYYMMDD"),"years");return t>0?{value:t,unit:"ans"}:(t=C()().diff(C()(e,"YYYYMMDD"),"months"))>0?{value:t,unit:"mois"}:(t=C()().diff(C()(e,"YYYYMMDD"),"days"))>0?{value:t,unit:"jours"}:void 0}(function(e){var t=new Date(e);return"".concat(t.getFullYear()).concat(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1).concat(t.getDate()<10?"0"+t.getDate():t.getDate())}(null===c||void 0===c?void 0:c.toLocaleString())),T=I&&!("ans"===(null===I||void 0===I?void 0:I.unit)&&(null===I||void 0===I?void 0:I.value)>15);(0,d.useEffect)((function(){(0,R.yi)().then((function(e){e.success&&g(e.result)})),(0,R.mF)().then((function(e){e.success&&E(e.result)}))}),[]);var w=function(){var e=b.find((function(e){return e.id===(null===t||void 0===t?void 0:t.nationalite)}));return null===e||void 0===e?void 0:e.designation},D=function(){var e=N.find((function(e){return e.id===(null===t||void 0===t?void 0:t.religion)}));return null===e||void 0===e?void 0:e.designation},O=function(e){var t=N.find((function(t){return t.id===e}));return null===t||void 0===t?void 0:t.designation},L=function(){return(0,h.jsx)(ue.Z,{name:"patient-read-form",className:"col-md-10",labelCol:{span:8},children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)(ue.Z.Item,{label:"Nom",name:"nom",children:(0,h.jsx)(k.Z,{defaultValue:null===t||void 0===t?void 0:t.nom,className:"text-dark text-uppercase",disabled:!0,style:{fontFamily:"revert",fontSize:17}})}),(0,h.jsx)(ue.Z.Item,{label:"Prenom",name:"prenom",children:(0,h.jsx)(k.Z,{defaultValue:null===t||void 0===t?void 0:t.prenom,className:"text-dark",disabled:!0,style:{fontFamily:"revert-layer",fontSize:17}})}),(0,h.jsx)(me._I,{label:"Sexe",name:"sexe",defaultValue:null===t||void 0===t?void 0:t.sexe,items:xe,rules:[pe.f.ruleNoRequired],disabled:!0}),(0,h.jsx)(ue.Z.Item,{label:"Date de naissance",name:"date_naissance",children:(0,h.jsx)(k.Z,{defaultValue:null===t||void 0===t?void 0:t.date_naissance,className:"text-dark",disabled:!0,style:{fontFamily:"revert-layer",fontSize:17}})}),(0,h.jsx)(ue.Z.Item,{label:"Adresse electronique",name:"adresse_mail",children:(0,h.jsx)(k.Z,{defaultValue:null===t||void 0===t?void 0:t.adresse_mail,className:"text-dark",disabled:!0,style:{fontFamily:"revert-layer",fontSize:17}})}),(0,h.jsx)(ue.Z.Item,{label:"Adresse",name:"adresse",children:(0,h.jsx)(k.Z,{defaultValue:null===t||void 0===t?void 0:t.adresse,className:"text-dark",disabled:!0,style:{fontFamily:"revert-layer",fontSize:17}})}),(0,h.jsx)(ue.Z.Item,{label:"Num\xe9ro de t\xe9lephone",name:"telephone",children:(0,h.jsx)(k.Z,{defaultValue:null===t||void 0===t?void 0:t.telephone,className:"text-dark",disabled:!0,style:{fontFamily:"revert-layer",fontSize:17}})}),(0,h.jsx)(ue.Z.Item,{label:"Nationalite",name:"nationalite",children:(0,h.jsx)(k.Z,{defaultValue:w(),className:"text-dark",disabled:!0,style:{fontFamily:"revert-layer",fontSize:17}})}),(0,h.jsx)(ue.Z.Item,{label:"Religion",name:"religion",children:(0,h.jsx)(k.Z,{defaultValue:D(),className:"text-dark",disabled:!0,style:{fontFamily:"revert-layer",fontSize:17}})}),(0,h.jsx)(ue.Z.Item,{label:"Profession",name:"profession",children:(0,h.jsx)(k.Z,{defaultValue:O(null===t||void 0===t?void 0:t.profession),className:"text-dark",disabled:!0,style:{fontFamily:"revert-layer",fontSize:17}})}),(0,h.jsxs)("div",{className:"mt-3",children:[(0,h.jsxs)("span",{className:"mx-3 text-primary",style:{fontFamily:"monospace"},children:[" ","Personne \xe0 contacter en cas d'urgence"," "]}),(0,h.jsx)("hr",{})]}),(0,h.jsx)(ue.Z.Item,{label:"Nom de la personne",name:"nom_urgence",children:(0,h.jsx)(k.Z,{defaultValue:null===t||void 0===t?void 0:t.nom_urgence,className:"text-dark",disabled:!0,style:{fontFamily:"revert-layer",fontSize:17}})}),(0,h.jsx)(ue.Z.Item,{label:"Num\xe9ro de telephone",name:"telephone_urgence",children:(0,h.jsx)(k.Z,{defaultValue:null===t||void 0===t?void 0:t.telephone,className:"text-dark",disabled:!0,style:{fontFamily:"revert-layer",fontSize:17}})}),(0,h.jsx)("div",{className:"ms-auto col-md-3 d-none",children:(0,h.jsx)("button",{className:"btn btn-primary rounded-pill",onClick:function(){P(!1)},children:"Modifier"})})]})},"patient-read-form")},M=function(){return(0,h.jsx)(te.Z,{spinning:x,children:(0,h.jsx)(ue.Z,{name:"patient-info-form",form:r,className:"col-md-10",labelCol:{span:8},scrollToFirstError:!0,onFinish:function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){var s;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),(s=t).date_naissance=new Date(t.date_naissance).toLocaleString(),e.next=5,(0,R.hK)(s).then((function(e){e.success?(ee.Z.success({message:"Succ\xe8s",description:e.message}),n.push(u.Z.PATIENT_PAGE.LIST_PATIENT)):ee.Z.error({message:"Erreur",description:e.message})}));case 5:j(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:(0,h.jsxs)("div",{children:[(0,h.jsx)(me.gZ,{label:"NUI",placeholder:"Num\xe9ro d'Identifiant Unique",name:"niu",rules:[pe.f.ruleNoRequired],value:null===t||void 0===t?void 0:t.niu,disabled:s}),(0,h.jsx)(me.gZ,{label:"Nom",placeholder:"Nom du patient",name:"nom",rules:[pe.f.ruleRequired],value:null===t||void 0===t?void 0:t.nom,disabled:s}),(0,h.jsx)(me.gZ,{label:"Pr\xe9noms",name:"prenom",rules:[pe.f.ruleRequired],value:null===t||void 0===t?void 0:t.prenom,disabled:s,placeholder:"Pr\xe9noms du patient"}),(0,h.jsx)(me._I,{label:"Sexe",name:"sexe",items:xe,rules:[pe.f.ruleRequired],defaultValue:null===t||void 0===t?void 0:t.sexe}),(0,h.jsx)(me.Ne,{label:"Date de naissance",name:"date_naissance",rules:[pe.f.ruleRequired],value:null===t||void 0===t?void 0:t.date_naissance,disabled:s}),T?(0,h.jsxs)("span",{className:"mb-3 text-danger",children:[(0,h.jsx)("i",{children:(0,h.jsx)(l.a4m,{color:"red",className:"mx-3"})}),"Ce patient est mineur. Les informations suivantes sont celles de son tuteur"]}):(0,h.jsx)("span",{children:" "}),(0,h.jsx)(me.gZ,{label:"Adresse electronique",name:"adresse_mail",className:"mt-3",rules:[pe.f.ruleNoRequired],value:null===t||void 0===t?void 0:t.adresse_mail,disabled:s,placeholder:"Email du patient ou du tuteur"}),(0,h.jsx)(me.gZ,{label:"Num\xe9ro de t\xe9lephone",name:"telephone",rules:[pe.f.ruleRequired],value:null===t||void 0===t?void 0:t.telephone,disabled:s,placeholder:"Telephone du patient ou du tuteur"}),(0,h.jsx)(me.bA,{label:"Nationalit\xe9",name:"nationalite",items:b,rules:[pe.f.ruleNoRequired],value:null===t||void 0===t?void 0:t.nationalite,disabled:s,placeholder:"Nationalit\xe9 du patient ou du tuteur"},"patient-nationalite"),(0,h.jsx)(me.bA,{label:"Religion",name:"religion",items:N.filter((function(e){return e.rubrique===V.jj.RELIGION})),rules:[pe.f.ruleNoRequired],placeholder:"Religion du patient ou du tuteur"},"patient-religion"),(0,h.jsx)(me.bA,{label:"Profession",name:"profession",items:N.filter((function(e){return e.rubrique===V.jj.PROFESSION})),rules:[pe.f.ruleNoRequired],placeholder:"Profession du patient ou du tuteur"},"patient-profession"),(0,h.jsxs)("div",{className:"mt-3",children:[(0,h.jsxs)("span",{className:"mx-3 text-primary",style:{fontFamily:"monospace"},children:[" ","Personne \xe0 contacter en cas d'urgence"," "]}),(0,h.jsx)("hr",{})]}),(0,h.jsx)(me.gZ,{label:"Nom de la personne",name:"nom_urgence",rules:[pe.f.ruleRequired],value:null===t||void 0===t?void 0:t.nom_urgence,disabled:s,placeholder:"Nom de la personne \xe0 contacter en cas d'urgence"}),(0,h.jsx)(me.gZ,{label:"Numero de t\xe9lephone",name:"telephone_urgence",rules:[pe.f.ruleRequired],value:null===t||void 0===t?void 0:t.telephone_urgence,disabled:s,placeholder:"Telephone de la personne \xe0 contacter en cas d'urgence"}),(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)(q.Z,{className:"ms-auto col-md-4",children:[(0,h.jsx)("button",{type:"button",className:"btn btn-outline-secondary ml-3 rounded-pill",onClick:function(){return n.push(u.Z.PATIENT_PAGE.LIST_PATIENT)},children:"Annuler"}),(0,h.jsx)("button",{type:"submit",className:"btn btn-primary rounded-pill",children:"Enregistrer"})]})})]})},"patient-info-form")})};return A?(0,h.jsx)(L,{}):(0,h.jsx)(M,{})},fe=function(e){var t=e.patient,s=e.readOnly,n=(0,d.useState)("1"),i=(0,o.Z)(n,2),r=i[0],a=i[1],l=[{key:"1",label:(0,h.jsxs)("span",{children:[(0,h.jsx)(ae.gW$,{className:"mx-3",size:28}),"Identification"]}),children:(0,h.jsx)(je,{patient:t,readOnly:s})}];return(0,h.jsx)("div",{children:(0,h.jsx)(re.Z,{defaultActiveKey:"1",items:l,activeKey:r,onTabClick:function(e){return a(e)}})})},he=function(){return(0,h.jsxs)(_,{clicked:"patients-new",children:[(0,h.jsx)("h5",{children:" Ajouter un patient "}),(0,h.jsx)("div",{className:"card mt-0",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(fe,{})})})]})},ve=s(1431),be=function(){console.log();var e=(0,a.k6)();return[{title:"Nom",key:"patient-nom",render:function(e,t){return(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-uppercase",children:(null===e||void 0===e?void 0:e.nom)+" "}),null===e||void 0===e?void 0:e.prenom," "]})}},{title:"Date naissance",key:"patient-date_naissance",render:function(e,t){return(0,h.jsx)("span",{children:e.date_naissance})}},{title:"Formation sanitaire",key:"patient-formation_sanitaire",render:function(e,t){var s;return(0,h.jsxs)("span",{children:[null===t||void 0===t||null===(s=t.formation_sanitaire)||void 0===s?void 0:s.designation," "]})}},{title:"N\xb0 Dossier",key:"patient-last-dossier",render:function(e,t){var s;return t.formation_sanitaire?(0,h.jsxs)("span",{children:[(null===t||void 0===t||null===(s=t.formation_sanitaire)||void 0===s?void 0:s.id)+"Y"+(null===t||void 0===t?void 0:t.id)+"P"+(null===t||void 0===t?void 0:t.dossier_id)," "]}):(0,h.jsx)("span",{})}},{title:"Praticien",key:"patient-praticien",render:function(e,t){var s,n;return t.praticien?(0,h.jsxs)("span",{children:[(null===t||void 0===t||null===(s=t.praticien)||void 0===s?void 0:s.nom)+" "+(null===t||void 0===t||null===(n=t.praticien)||void 0===n?void 0:n.prenom)," "]}):""}},{title:"Prise en charge",key:"patient-mode",render:function(e,t){return(0,h.jsxs)("div",{className:"d-flex mx-auto",children:[" ",(0,me.Jl)(t.mode)," "]})}},{title:"Statut",key:"patient-etape",render:function(e,t){return(0,h.jsxs)("div",{className:"d-flex mx-auto",children:[" ",(0,me.hb)(t.statut)," "]})}},{title:"Actions",key:"patient-patient-actions",render:function(t,s){return(0,h.jsxs)(q.Z,{children:[(0,h.jsx)(ve.Z,{title:"Consulter la fiche du patient",children:(0,h.jsx)(l.DAO,{size:24,color:"#FF4D4F",style:{cursor:"pointer"},onClick:function(){e.push({pathname:u.Z.PATIENT_PAGE.SHOW_PATIENT,state:{patient:s,readOnly:!0}})}})}),(0,h.jsx)(ve.Z,{title:"Traiter le patient",children:(0,h.jsx)(l.T7P,{size:24,color:m.xO,style:{cursor:"pointer"},onClick:function(){e.push({pathname:u.Z.REGISTRE_PAGE.PRINCIPAL,state:{patient:null===s||void 0===s?void 0:s.id,dossier:null===s||void 0===s?void 0:s.dossier_id}})}})})]})}}]},ge=function(){var e=(0,a.k6)(),t=(0,d.useState)(!0),s=(0,o.Z)(t,2),n=s[0],i=s[1],r=(0,d.useState)([]),l=(0,o.Z)(r,2),c=l[0],m=l[1];return(0,d.useEffect)((function(){(0,R.yL)().then((function(e){e.success&&(m(e.result),i(!1))}))}),[]),console.log("patient list actions",c),(0,h.jsx)("div",{children:(0,h.jsx)(G,{loading:n,data:c,columns:be(),filterFunction:function(e,t){return e.nom.includes(t)||e.prenom.includes(t)||e.nom.toLowerCase().includes(t)||e.prenom.toLowerCase().includes(t)||e.date_naissance.includes(t)},buttons:(0,h.jsx)(q.Z,{children:(0,h.jsx)("button",{className:"btn btn-outline-primary rounded-pill",onClick:function(){e.push(u.Z.PATIENT_PAGE.ADD_PATIENT)},children:"Ajouter"})})},"list-patient-table")})},_e=function(){return(0,h.jsxs)(_,{clicked:"patients-list",children:[(0,h.jsx)("h2",{children:" Liste des patients "}),(0,h.jsx)(ge,{})]})},ye=(s(2964),s(4123)),Ne=s(2014),Ee=s(1413),Se=s(5987),Ze=s(7309),Ae=["width","buttonText","children","modalProps","buttonProps"],Pe=function(e){var t=e.width,s=e.buttonText,n=e.children,i=e.modalProps,r=e.buttonProps,a=(0,Se.Z)(e,Ae),l=(0,d.useState)(!1),c=(0,o.Z)(l,2),u=c[0],m=c[1],p=function(){return m(!1)};return(0,h.jsxs)("span",(0,Ee.Z)((0,Ee.Z)({},a),{},{children:[(0,h.jsx)(Ze.ZP,(0,Ee.Z)((0,Ee.Z)({onClick:function(){return m(!0)},style:{display:"flex",alignItems:"center"}},r),{},{children:s})),(0,h.jsx)(ye.Z,(0,Ee.Z)((0,Ee.Z)({open:u,onCancel:p,footer:null},i),{},{width:t,children:n(p)}))]}))},Ie=function(e,t,s,n,i){var r=(0,a.k6)();return[{title:"Nom",key:"dossier-nom",render:function(e,t){return(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-uppercase",children:e.patient.nom+" "}),e.patient.prenom," "]})}},{title:"Date naissance",key:"dossier-date_naissance",render:function(e,t){return(0,h.jsx)("span",{children:e.patient.date_naissance})}},{title:"Formation sanitaire",key:"dossier-formation_sanitaire",render:function(e,t){return(0,h.jsxs)("span",{children:[t.formation_sanitaire.designation," "]})}},{title:"N\xb0 Dossier",key:"code-dossier",render:function(e,t){return(0,h.jsx)("span",{children:t.patient.id+"."+t.formation_sanitaire.id+"."+t.id})}},{title:"Praticien",key:"dossier-praticien",render:function(e,t){return(0,h.jsxs)("span",{children:[t.praticien.nom+" "+t.praticien.prenom," "]})}},{title:"Prise en charge",key:"dossier-mode",render:function(e,t){return(0,h.jsxs)("div",{className:"d-flex mx-auto",children:[" ",(0,me.Jl)(t.mode)," "]})}},{title:"Statut",key:"Etape",render:function(e,t){return(0,h.jsxs)("div",{className:"d-flex mx-auto",children:[" ",(0,me.hb)(t.statut)," "]})}},{title:"Actions",key:"dossier-actions",render:function(e,t){return(0,h.jsxs)(q.Z,{children:[t.statut===V.yP.clos?(0,h.jsx)(ve.Z,{title:"Nouveau dossier",children:(0,h.jsx)(l.X4v,{size:24,color:t.statut===V.yP.decede?m.MO:m.xO,style:{cursor:"pointer"},onClick:function(){var e=(0,$.Z)((0,J.Z)().mark((function e(s){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.statut===V.yP.decede&&ee.Z.info({message:"Info",description:"Ce patient est d\xe9c\xe9de. Impossible de creer un nouveau dossier."});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}):t.statut===V.yP.anamnese?(0,h.jsx)(ve.Z,{title:"Traiter le dossier",children:(0,h.jsx)(l.Rdr,{size:24,color:t.statut===V.yP.decede?m.MO:m.xO,style:{cursor:"pointer"},onClick:function(){null===i||void 0===i||i(t),null===n||void 0===n||n(!0)}})}):(0,h.jsx)(ve.Z,{title:"Editer le dossier",children:(0,h.jsx)(l.fmQ,{size:24,color:t.statut===V.yP.decede?m.MO:m.xO,style:{cursor:"pointer"},onClick:function(){t.statut===V.yP.decede?ee.Z.warning({message:"Info",description:"Ce patient est d\xe9c\xe9de. Impossible d'editer le dossier ou d'en creer un nouveau."}):r.push({pathname:u.Z.REGISTRE_PAGE.ADD_DOSSIER,state:{dossier:t,readOnly:!1}})}})}),(0,h.jsx)(ve.Z,{title:"Transf\xe9rer le dossier",children:(0,h.jsx)(l.qau,{size:24,color:t.statut===V.yP.decede||t.statut===V.yP.clos||t.statut===V.yP.anamnese?m.MO:m.k8,style:{cursor:"pointer"},onClick:function(){2===t.patient.statut&&ee.Z.warning({message:"Info",description:"Ce patient est d\xe9c\xe9de. Impossible de creer un nouveau dossier."})}})}),(0,h.jsx)(ve.Z,{title:"Editer les documents",children:(0,h.jsx)(l.mvm,{size:24,color:t.statut===V.yP.decede?m.MO:m.aO,style:{cursor:"pointer"},onClick:function(){return console.log("open patient form modal")}})}),(0,h.jsx)(ve.Z,{title:"Dossier complet",children:(0,h.jsx)(l.DAO,{size:24,color:"#FF4D4F",style:{cursor:"pointer"},onClick:function(){ee.Z.info({message:"To do",description:"Print medical record as file"}),r.push({pathname:u.Z.REGISTRE_PAGE.SHOW_DOSSIER,state:{dossier:t}})}})})]})}}]},Re=s(8764),qe=function(e){var t=e.closeModal,s=e.dossier,n=(e.formationSanitaire,(0,a.k6)()),i=ue.Z.useForm(),r=(0,o.Z)(i,1)[0],l=(0,d.useState)(!1),c=(0,o.Z)(l,2),m=c[0],p=c[1],x=(0,d.useState)([]),j=(0,o.Z)(x,2),f=j[0],v=j[1],b=(0,d.useState)([]),_=(0,o.Z)(b,2),y=_[0],N=_[1],E=(0,d.useState)(!0),S=(0,o.Z)(E,2),Z=S[0],A=S[1],P=(0,d.useState)(!0),I=(0,o.Z)(P,2),T=(I[0],I[1]),k=(0,d.useState)(),w=(0,o.Z)(k,2),D=w[0],C=w[1],O=(0,d.useState)(),L=(0,o.Z)(O,2),M=L[0],F=L[1],z=[],U=[];console.log("patient selectionn\xe9 dans DossierAjout: ",s),(0,d.useEffect)((function(){r.resetFields(),Z&&(0,R.yL)().then((function(e){e.success&&(v(e.result),A(!1))})),(0,R.Js)().then((function(e){e.success&&(N(e.result.filter((function(e){return e.type_organisme===V.jj.FORMATION_SANITAIRE}))),T(!1))})),s&&r.setFieldValue("patient",s.patient.id)}),[s,r,Z]),console.log("ajout dossier pour patient : ",f);f.map((function(e){z.push({value:e.id,label:e.nom+"  "+e.prenom})})),y.map((function(e){U.push({value:e.id,label:e.designation})}));var G=(0,h.jsx)(g.Z,{showSearch:!0,placeholder:"",optionFilterProp:"children",defaultActiveFirstOption:!0,filterOption:function(e,t){var s;return(null!==(s=null===t||void 0===t?void 0:t.label)&&void 0!==s?s:"").toLowerCase().includes(e)},filterSort:function(e,t){var s,n;return(null!==(s=null===e||void 0===e?void 0:e.label)&&void 0!==s?s:"").toLowerCase().localeCompare((null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase())},options:z,className:"col-12",onChange:function(e){C(f.find((function(t){return t.id===e})))},disabled:!!s}),K=(0,h.jsx)(g.Z,{showSearch:!0,placeholder:"",optionFilterProp:"children",defaultActiveFirstOption:!0,filterOption:function(e,t){var s;return(null!==(s=null===t||void 0===t?void 0:t.label)&&void 0!==s?s:"").toLowerCase().includes(e)},filterSort:function(e,t){var s,n;return(null!==(s=null===e||void 0===e?void 0:e.label)&&void 0!==s?s:"").toLowerCase().localeCompare((null!==(n=null===t||void 0===t?void 0:t.label)&&void 0!==n?n:"").toLowerCase())},options:U,className:"col-12",onChange:function(e){F(y.find((function(t){return t.id===e})))}});return(0,h.jsx)(te.Z,{spinning:m,children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-5 ms-auto mb-3"}),(0,h.jsxs)(ue.Z,{form:r,name:"init-dossier-form",labelCol:{span:8},className:"row mt-3",onFinish:function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){var i,r;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=8;break}return p(!0),i={patient:null===D||void 0===D?void 0:D.id,dateEntree:null===t||void 0===t?void 0:t.dateEntree.toLocaleString(),dateSortie:null,statut:V.yP.motif,visibilite:!0,transfert:!1,transfertNb:0,puffer:!1,pufferNb:0,formation_sanitaire:null===M||void 0===M?void 0:M.id,disabled:0,lastUpdate:(new Date).toLocaleString(),praticien:"04545"},console.log("dossier \xe0 creer ",i,D),e.next=6,(0,R.Bb)(i).then(function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.success){e.next=6;break}return ee.Z.success({message:"Succ\xe8s",description:t.message}),e.next=4,(0,R.bP)(t.result).then((function(e){p(!1),console.log("get new dossier ",e),e.success&&n.push({pathname:u.Z.REGISTRE_PAGE.ADD_DOSSIER,state:{dossier:e.result,readOnly:!1}})}));case 4:e.next=8;break;case 6:p(!1),ee.Z.error({message:"Erreur",description:t.message});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){p(!1),ee.Z.error({message:"Erreur",description:e.message})}));case 6:e.next=13;break;case 8:return p(!0),console.log("mettre \xe0 jour les informations du medecin traitant pour le dossier selectionn\xe9"),r={step:"2",statut:V.yP.consultation1,praticien:"0007",lastUpdate:(new Date).toLocaleString()},e.next=13,(0,R.Wu)(s.id,r).then((function(e){e.success?(p(!1),ee.Z.success({message:"Succes",description:"Dossier pass\xe9 en phase de traitement."}),n.push(u.Z.REGISTRE_PAGE.PRINCIPAL)):(p(!1),ee.Z.error({message:"Erreur",description:e.message}))}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[s?(0,h.jsx)(me.gZ,{label:"Medecin traitant",name:"medecin_traitant",rules:[pe.f.ruleNoRequired],disabled:!0},"get-medecin-form"):(0,h.jsx)(me.gZ,{label:"Medecin",name:"medecin_anamnese",rules:[pe.f.ruleNoRequired],disabled:!0},"get-medecin-form"),(0,h.jsx)(ue.Z.Item,{label:"Patient",name:"patient",rules:[{required:!0,message:"Veuillez remplir ce champ"}],children:G},"get-patient-form"),(0,h.jsx)(ue.Z.Item,{label:"Formation sanitaire",name:s?"fs_traitant":"formation_sanitaire",rules:[{required:!0,message:"Veuillez completer ce champ"}],children:K},"get-fs-form"),(0,h.jsx)(ue.Z.Item,{label:"Recu le ",name:"date_deb_traitement",rules:[{required:!0,message:"Veuillez completer ce champ"}],children:(0,h.jsx)(Re.Z,{})},"get-date-form"),(0,h.jsxs)(q.Z,{className:"ms-auto col-md-8 mt-5",children:[(0,h.jsx)("button",{name:"init-dossier-btn-cancel",type:"button",className:"btn btn-outline-secondary rounded-pill",onClick:function(){null===t||void 0===t||t()},children:"Annuler"}),(0,h.jsx)("button",{type:"submit",className:"btn btn-primary rounded-pill",name:"init-dossier-btn-submit",children:s?"Traiter le dossier":"Cr\xe9er le dossier"})]})]},"init-dossier-form")]})})},Te=j.Z.div(r||(r=(0,x.Z)([""]))),ke=function(e){var t=e.praticien,s=e.formation_sanitaire,n=e.tampon,i=e.transfert,r=e.attente,a=e.deces,c=e.selectedPatient,u=(e.title,e.createDossier),p=(0,d.useState)(!0),x=(0,o.Z)(p,2),j=x[0],f=x[1],v=(0,d.useState)([]),b=(0,o.Z)(v,2),g=b[0],_=b[1],y=(0,d.useState)([]),N=(0,o.Z)(y,2),E=N[0],S=N[1],Z=(0,d.useState)(!1),A=(0,o.Z)(Z,2),P=A[0],I=A[1],T=(0,d.useState)(),k=(0,o.Z)(T,2),w=k[0],D=k[1],C=(0,d.useState)(!1),O=(0,o.Z)(C,2),L=O[0],M=O[1];return(0,d.useEffect)((function(){(0,R.bP)().then((function(e){if(e.success){var l=e.result;_(e.result),S(e.result),c&&S(l.filter((function(e){return e.patient.id===c}))),t&&S(l.filter((function(e){return e.praticien.id===t}))),s&&S(l.filter((function(e){return e.formation_sanitaire.id===s}))),i&&S(l.filter((function(e){return 1===e.transfert}))),r&&S(l.filter((function(e){return e.statut===V.yP.anamnese}))),n&&S(l.filter((function(e){return 1===e.puffer}))),a&&S(l.filter((function(e){return e.statut===V.yP.decede}))),f(!1)}}))}),[a,s,t,n,i,c,r]),console.log("dossiers list ",g),(0,h.jsxs)(Te,{children:[(0,h.jsx)("div",{className:"row mb-3 accordion-collapse collapse",id:"collapseLegend",children:(0,h.jsx)("div",{className:"",id:"legend-registre-principal",children:(0,h.jsx)(q.Z,{wrap:!0,style:{fontSize:11},size:"middle",children:V.$Z.map((function(e){return(0,h.jsx)(me.YL,{color:e.color,title:e.title,name:e.name})}))})})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(ye.Z,{open:P,onCancel:function(){return I(!1)},footer:null,centered:!0,title:"Traiter le dossier",children:(0,h.jsx)(qe,{dossier:w,closeModal:function(){return I(!1)}},"traiter-dossier-formulaire")}),(0,h.jsx)(G,{loading:j,data:L?g:E,columns:Ie(0,0,0,I,D),filterFunction:function(e,t){return e.patient.nom.includes(t)||e.patient.prenom.includes(t)||e.patient.nom.toLowerCase().includes(t)||e.patient.prenom.toLowerCase().includes(t)},buttons:(0,h.jsxs)(q.Z,{className:"ms-auto",size:"large",children:[(0,h.jsx)("i",{children:(0,h.jsx)(l.U41,{color:m.k8})}),(0,h.jsx)(Ne.Z,{name:"registre-reset",className:"ml-3",checked:L,onChange:function(e){return M(e.target.checked)},children:"Afficher tout"}),(0,h.jsx)(Ne.Z,{name:"registre-legend",className:"ml-3","data-bs-toggle":"collapse","data-bs-target":"#collapseLegend","aria-expanded":"true","aria-controls":"collapseLegend",children:"Legende"}),(0,h.jsx)("div",{children:u?(0,h.jsx)(Pe,{buttonText:"Nouveau dossier",buttonProps:{style:{backgroundColor:"lightgreen",borderWidth:0,borderRadius:15},icon:(0,h.jsx)(l.wEH,{style:{marginRight:5,marginBottom:2},size:20})},modalProps:{title:"Cr\xe9ation d'un dossier"},children:function(e){return(0,h.jsx)(qe,{closeModal:e},"dossier-ajout-form")}}):""})]})})]})]})},we=function(){var e=(0,a.k6)(),t=e.location.state?e.location.state:null;return(0,h.jsxs)(_,{clicked:"registre-all",children:[(0,h.jsx)("h2",{children:"Registre principal "})," ",(0,h.jsx)("hr",{}),(0,h.jsx)(ke,{selectedPatient:null===t||void 0===t?void 0:t.patient,createDossier:!0},"list-all")]})},De=function(){return(0,h.jsxs)(_,{clicked:"registre-traitement",children:[(0,h.jsx)("h2",{children:" Registre des instances de traitement "}),(0,h.jsx)(ke,{attente:!0,title:"Registre des instances de traitement"},"list-traitement")]})},Ce=function(){return(0,h.jsxs)(_,{clicked:"registre-tampon",children:[(0,h.jsx)("h2",{children:"Registre tampon"}),(0,h.jsx)("hr",{}),(0,h.jsx)(ke,{tampon:!0,title:"Registre tampon"},"list-tampon")]})},Oe=function(){return(0,h.jsxs)(_,{clicked:"registre-deces",children:[(0,h.jsxs)("div",{className:"row mb-0 pb-0 align-items-center justify-content-center",children:[(0,h.jsx)("h2",{className:"col-md-4 mt-auto",children:" Registre des deces "}),(0,h.jsx)("div",{className:"col-md-6 ms-auto",children:(0,h.jsx)(q.Z,{children:Le.map((function(e){return(0,h.jsx)(N,{card:e})}))})}),(0,h.jsx)("hr",{className:"mb-2"})]}),(0,h.jsx)(ke,{deces:!0,title:"Registre des deces"},"list-deces")]})},Le=[{title:"Patients",description:"Patients",value:145,color:m.Xt,icon:(0,h.jsx)(l.AAH,{size:48,color:m.Xt}),link:u.Z.PATIENT_PAGE.LIST_PATIENT},{title:"Medecins",description:"Medecins",value:25,color:m.k8,icon:(0,h.jsx)(l.etr,{size:48,color:m.k8}),link:"/admin/users/list"},{title:"Deces",description:" Deces ",value:"1,7 M",color:m.Y,icon:(0,h.jsx)(l.L03,{size:48,color:"red"}),link:"/admin/analyse/demandes/list"}],Me=function(){return(0,h.jsx)(_,{clicked:"analyse-new",children:(0,h.jsx)("h2",{children:" Nouvelle analyse "})})},Fe=function(){return(0,h.jsx)(_,{clicked:"analyse-demande-new",children:(0,h.jsx)("h2",{children:" Nouvelle demande de statistiques "})})},ze=function(){return(0,h.jsx)(_,{clicked:"analyse-demande-list",children:(0,h.jsx)("h2",{children:" Liste des demandes de statistiques "})})},Ue=function(){return(0,h.jsx)(_,{clicked:"analyse-historique",children:(0,h.jsx)("h2",{children:" Historique des analyses "})})},Ge=function(){return(0,h.jsx)(_,{clicked:"parametres-donnees",children:(0,h.jsx)("h2",{children:" Configuration des donn\xe9es de base "})})},Ke=function(){return(0,h.jsx)(_,{clicked:"parametres-configuration",children:(0,h.jsx)("h2",{children:" Configuration g\xe9nerale de l'application "})})},We=function(){var e=(0,a.k6)(),t=e.location.state?e.location.state:null;return(0,h.jsxs)(_,{clicked:"patients-list",children:[(0,h.jsxs)("h2",{children:[(0,h.jsx)(Y.rU,{to:u.Z.PATIENT_PAGE.LIST_PATIENT,children:"Liste des patients"})," | Patient 000Y00 ",(0,h.jsx)("span",{className:"text-primary",children:null===t||void 0===t?void 0:t.patient.id})]}),(0,h.jsx)("div",{className:"card mt-0",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(fe,{patient:null===t||void 0===t?void 0:t.patient,readOnly:null===t||void 0===t?void 0:t.readOnly})})})]})},Ye=function(e){var t=e.dossier,s=(e.eltDossiers,e.activeKey),n=e.setActiveKey,i=e.reloadData,r=ue.Z.useForm(),a=(0,o.Z)(r,1)[0],c=(0,d.useState)(!1),u=(0,o.Z)(c,2),p=u[0],x=u[1];return(0,h.jsx)(te.Z,{spinning:p,className:"row",children:(0,h.jsx)(ue.Z,{name:"acq-diagnostic-form",form:a,className:s===V.yP.diagnostic?"collapse show":"d-none",id:"acq-diagnostic",labelCol:{span:8},scrollToFirstError:!0,onFinish:function(){var e=(0,$.Z)((0,J.Z)().mark((function e(s){var r;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),r={dossierId:t.id,statut:V.yP.score,step:"1",eltDossiers:[{dossier:t.id,rubrique:V.jj.DIAGNOSTIC_CLASS_AO,valeur:[s.diag_class_ao],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.DIAGNOSTIC_LESSION_1,valeur:[s.diag_lessions_ass1],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.DIAGNOSTIC_LESSION_2,valeur:[s.diag_lessions_ass2],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.DIAGNOSTIC_LESSION_3,valeur:[s.diag_lessions_ass1],date_update:(new Date).toLocaleString(),statut:1}]},e.next=4,(0,R.a3)(r).then(function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.success?(ee.Z.success({message:"Succ\xe8s",description:t.message}),i(!0),n(V.yP.score)):ee.Z.error({message:"Erreur",description:t.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:x(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:(0,h.jsxs)("div",{className:"card card-body",children:[(0,h.jsx)(me.sT,{title:"Diagnostic des lesions musculosquelettiques - ICD 10"},"dossier-acq-diagnostic"),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"row",id:"classification-ao",children:[(0,h.jsx)(me.gZ,{label:"Classification AO",multiple:!0,name:"diag_class_ao",className:"col-md-8",rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.diagnostic,V.jj.DIAGNOSTIC_CLASS_AO,!1),disabled:t.statut>V.yP.diagnostic},"diag_class_ao"),(0,h.jsx)("div",{className:"col-md-4",children:(0,h.jsx)(Pe,{buttonText:(0,h.jsxs)("div",{className:"",children:[(0,h.jsx)("small",{className:"col",children:"Ins\xe9rer un poster"})," ",(0,h.jsx)(l.H3h,{size:28,color:m.T2})]}),buttonProps:{danger:!1,className:"mx-auto"},modalProps:{title:""},children:function(e){return(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{children:"Ins\xe9rer AO COIAC"}),(0,h.jsx)("div",{className:"card"}),(0,h.jsxs)(q.Z,{children:[(0,h.jsx)(Ze.ZP,{type:"primary",onClick:function(){return e()},children:"Fermer"}),(0,h.jsx)(Ze.ZP,{danger:!0,onClick:function(){ee.Z.success({message:"Succ\xe8s",description:"Laisse l'enseignement pass\xe9"})},children:"Oui"})]})]})}})})]}),(0,h.jsx)(me.gZ,{label:"Lesions associ\xe9es 1 - ICD 10",name:"diag_lessions_ass1",className:"col-md-8",rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.diagnostic,V.jj.DIAGNOSTIC_LESSION_1,!1),disabled:t.statut>V.yP.diagnostic},"diag_lessions_ass1"),(0,h.jsx)(me.gZ,{label:"Lesions associ\xe9es 2 - ICD 10",name:"diag_lessions_ass2",className:"col-md-8",rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.diagnostic,V.jj.DIAGNOSTIC_LESSION_2,!1),disabled:t.statut>V.yP.diagnostic},"diag_lessions_ass2"),(0,h.jsx)(me.gZ,{label:"Lesions associ\xe9es 3 - ICD 10",name:"diag_lessions_ass3",className:"col-md-8",rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.diagnostic,V.jj.DIAGNOSTIC_LESSION_3,!1),disabled:t.statut>V.yP.diagnostic},"diag_lessions_ass3")]}),t.statut>V.yP.motif?(0,h.jsxs)(q.Z,{className:"ms-auto",children:[(0,h.jsx)("button",{type:"button",className:"btn btn-outline-secondary ml-3 rounded-pill",onClick:function(){return n(V.yP.examen)},children:"Precedent"}),(0,h.jsx)("button",{type:"button",className:"btn btn-primary ml-3 rounded-pill",onClick:function(){return n(V.yP.score)},children:"Suivant"})]}):(0,h.jsx)(me.ZS,{},"nav-acq-diagnostic")]})},"acq-diagnostic-form")})},Ve=function(e){var t=e.dossier,s=e.eltRubriques,n=e.activeKey,i=e.setActiveKey,r=e.reloadData,a=ue.Z.useForm(),l=(0,o.Z)(a,1)[0],c=(0,d.useState)(!1),u=(0,o.Z)(c,2),m=u[0],p=u[1];return(0,h.jsx)(te.Z,{spinning:m,className:"row",children:(0,h.jsx)(ue.Z,{name:"acq-enquete-form",form:l,className:n===V.yP.enquete?"collapse show":"d-none",id:"acq-enquete",labelCol:{span:8},scrollToFirstError:!0,onFinish:function(){var e=(0,$.Z)((0,J.Z)().mark((function e(s){var n;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),n={dossierId:t.id,statut:V.yP.examen,step:"1",eltDossiers:[{dossier:t.id,rubrique:V.jj.ENQUETE_GENERAL,valeur:[s.enq_general],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.ENQUETE_LOCOMOTEUR,valeur:[s.enq_app_locomoteur],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.ENQUETE_NERVEUX,valeur:[s.enq_sys_nerveux],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.ENQUETE_RESPIRATOIRE,valeur:[s.enq_app_respiratoire],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.ENQUETE_CARDIO,valeur:[s.enq_app_cardio],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.ENQUETE_DIGESTIF,valeur:[s.enq_app_digestif],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.ENQUETE_UROGENITAL,valeur:[s.enq_app_g\u00e9nital],date_update:(new Date).toLocaleString(),statut:1}]},e.next=4,(0,R.a3)(n).then(function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.success?(ee.Z.success({message:"Succ\xe8s",description:t.message}),r(!0),i(V.yP.examen)):ee.Z.error({message:"Erreur",description:t.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:p(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:(0,h.jsxs)("div",{className:"card card-body",children:[(0,h.jsx)(me.sT,{title:"Enqu\xeate des syst\xe8mes"},"dossier-acq-enquete"),(0,h.jsxs)("div",{children:[(0,h.jsx)(me.bA,{label:"G\xe9neral",name:"enq_general",items:s.filter((function(e){return e.rubrique===V.jj.ENQUETE_GENERAL})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.enquete,V.jj.ENQUETE_GENERAL,!1),disabled:t.statut>V.yP.enquete},"enq_general"),(0,h.jsx)(me.bA,{label:"Appareil locomoteur",name:"enq_app_locomoteur",items:s.filter((function(e){return e.rubrique===V.jj.ENQUETE_LOCOMOTEUR})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.enquete,V.jj.ENQUETE_LOCOMOTEUR,!1),disabled:t.statut>V.yP.enquete},"enq_app_locomoteur"),(0,h.jsx)(me.bA,{label:"Syt\xe8me nerveux central et p\xe9riph\xe9rique",name:"enq_sys_nerveux",items:s.filter((function(e){return e.rubrique===V.jj.ENQUETE_NERVEUX})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.enquete,V.jj.ENQUETE_NERVEUX,!1),disabled:t.statut>V.yP.enquete},"enq_sys_nerveux"),(0,h.jsx)(me.bA,{label:"Appareil respiratoire",name:"enq_app_respiratoire",items:s.filter((function(e){return e.rubrique===V.jj.ENQUETE_RESPIRATOIRE})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.enquete,V.jj.ENQUETE_RESPIRATOIRE,!1),disabled:t.statut>V.yP.enquete},"enq_app_respiratoire"),(0,h.jsx)(me.bA,{label:"Appareil cardio-vasculaire",name:"enq_app_cardio",items:s.filter((function(e){return e.rubrique===V.jj.ENQUETE_CARDIO})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.enquete,V.jj.ENQUETE_CARDIO,!1),disabled:t.statut>V.yP.enquete},"enq_app_cardio"),(0,h.jsx)(me.bA,{label:"Appareil digestif",name:"enq_app_digestif",items:s.filter((function(e){return e.rubrique===V.jj.ENQUETE_DIGESTIF})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.enquete,V.jj.ENQUETE_DIGESTIF,!1),disabled:t.statut>V.yP.enquete},"enq_app_digestif"),(0,h.jsx)(me.bA,{label:"Appareil uro-g\xe9nital",name:"enq_app_g\xe9nital",items:s.filter((function(e){return e.rubrique===V.jj.ENQUETE_UROGENITAL})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.enquete,V.jj.ENQUETE_UROGENITAL,!1),disabled:t.statut>V.yP.enquete},"enq_app_g\xe9nital")]}),t.statut>V.yP.enquete?(0,h.jsxs)(q.Z,{className:"ms-auto",children:[(0,h.jsx)("button",{type:"button",className:"btn btn-outline-secondary ml-3 rounded-pill ",onClick:function(){return i(V.yP.histoire)},children:"Precedent"}),(0,h.jsx)("button",{type:"button",className:"btn btn-primary ml-3 rounded-pill ",onClick:function(){return i(V.yP.examen)},children:"Suivant"})]}):(0,h.jsx)(me.ZS,{},"nav-acq-enquete")," "]})},"acq-enquete-form")})},Xe=s(6517),Qe=function(e){var t=e.dossier,s=e.eltRubriques,n=e.activeKey,i=e.setActiveKey,r=e.reloadData,a=ue.Z.useForm(),c=(0,o.Z)(a,1)[0],u=(0,d.useState)(!1),m=(0,o.Z)(u,2),p=m[0],x=m[1];return(0,h.jsx)(te.Z,{spinning:p,className:"row",children:(0,h.jsx)(ue.Z,{name:"acq-examen-form",form:c,className:n===V.yP.examen?"collapse show":"d-none",id:"acq-examen",labelCol:{span:8},scrollToFirstError:!0,onFinish:function(){var e=(0,$.Z)((0,J.Z)().mark((function e(s){var n;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),n={dossierId:t.id,statut:V.yP.diagnostic,step:"1",eltDossiers:[{dossier:t.id,rubrique:V.jj.EXAMEN_TA,valeur:[s.par_ta],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.EXAMEN_POULS,valeur:[s.par_pouls],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.EXAMEN_FR,valeur:[s.par_fr],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.EXAMEN_T,valeur:[s.par_t],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.EXAMEN_GENERAL,valeur:[s.exa_gen],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.LUXATION_CLINIQUE,valeur:0===s.lux_cli.length?["0000000"]:s.lux_cli,date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.FRACTURE_CLINIQUE,valeur:0===s.fra_cli.length?["0000000"]:s.fra_cli,date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.TYPE_FRACTURE,valeur:0===s.typ_fra.length?["0000000"]:s.typ_fra,date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.TYPE_FRACTURE_PEDIATRIE,valeur:0===s.typ_frac_ped.length?["0000000"]:s.typ_frac_ped,date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.COLORATION_MEMBRE,valeur:[s.exa_col],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.POULS_PERIPHERIQUE,valeur:[s.exa_pouls_per],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.TEMPERATURE_MEMBRE,valeur:[s.exa_temp_mem],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.SENSIBILITE,valeur:[s.exa_sens],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.EXAMEN_APP_DIGESTIF,valeur:[s.exa_app_dig],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.EXAMEN_APP_UROGENITAL,valeur:[s.exa_app_uro],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.EXAMEN_APP_CARDIO,valeur:[s.exa_app_cardio],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.EXAMEN_APP_NEURO,valeur:[s.exa_app_neuro],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.EXAMEN_RADIO_INITIALES,valeur:0===s.exa_rad_ini.length?["0000000"]:s.exa_rad_ini,date_update:(new Date).toLocaleString(),statut:1}]},console.log("data to send in examen ",n),e.next=5,(0,R.a3)(n).then(function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.success?(ee.Z.success({message:"Succ\xe8s",description:t.message}),r(!0),i(V.yP.diagnostic)):ee.Z.error({message:"Erreur",description:t.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:x(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:(0,h.jsxs)("div",{className:"card card-body",children:[(0,h.jsx)(me.sT,{title:"Examen physique"},"dossier-acq-examen"),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"row",id:"exa_parametres",children:[(0,h.jsxs)("strong",{children:[(0,h.jsx)("h5",{style:{fontFamily:"monospace"},className:"text-primary",children:"Param\xe8tres"})," ",(0,h.jsx)("hr",{})]}),(0,h.jsx)(me.gZ,{label:"TA",name:"par_ta",className:"col-md-3 mr-0",rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.EXAMEN_TA,!1),disabled:t.statut>V.yP.examen},"par_ta"),(0,h.jsx)(me.gZ,{label:"Pouls",name:"par_pouls",className:"col-md-3",rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.EXAMEN_POULS,!1),disabled:t.statut>V.yP.examen},"par_pouls"),(0,h.jsx)(me.gZ,{label:"FR",size:12,name:"par_fr",className:"col-md-3",rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.EXAMEN_FR,!1),disabled:t.statut>V.yP.examen},"par_fr"),(0,h.jsx)(me.gZ,{label:"T\xb0",size:12,name:"par_t",className:"col-md-3",rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.EXAMEN_T,!1),disabled:t.statut>V.yP.examen},"par_t")]}),(0,h.jsx)("div",{children:(0,h.jsx)(me.bA,{label:"Examen G\xe9neral / Extremit\xe9 c\xe9phalique ",name:"exa_gen",size:12,items:s.filter((function(e){return e.rubrique===V.jj.EXAMEN_GENERAL})),multiple:!0,value:dt(t,V.yP.examen,V.jj.EXAMEN_GENERAL,!1),disabled:t.statut>V.yP.examen},"exa_gen")}),(0,h.jsxs)("div",{className:"row",id:"exa_app-loc",children:[(0,h.jsxs)("strong",{children:[(0,h.jsx)("h5",{style:{fontFamily:"monospace"},className:"text-primary",children:"Appareil locomoteur"})," ",(0,h.jsx)("hr",{})]}),(0,h.jsx)(me.bA,{multiple:!0,label:"Luxation clinique de ",name:"lux_cli",size:12,items:s.filter((function(e){return e.rubrique===V.jj.LUXATION_CLINIQUE})),value:dt(t,V.yP.examen,V.jj.LUXATION_CLINIQUE,!0),disabled:t.statut>V.yP.examen},"lux_cli"),(0,h.jsx)(me.bA,{multiple:!0,label:"Fracture clinique de ",name:"fra_cli",size:12,items:s.filter((function(e){return e.rubrique===V.jj.FRACTURE_CLINIQUE})),value:dt(t,V.yP.examen,V.jj.FRACTURE_CLINIQUE,!0),disabled:t.statut>V.yP.examen},"fra_cli"),(0,h.jsx)(me.bA,{multiple:!0,label:"Type de fracture",name:"typ_fra",size:12,items:s.filter((function(e){return e.rubrique===V.jj.TYPE_FRACTURE})),value:dt(t,V.yP.examen,V.jj.TYPE_FRACTURE,!0),disabled:t.statut>V.yP.examen},"typ_fra"),(0,h.jsx)(me.bA,{multiple:!0,label:"Type de fracture p\xe9diatrique ",name:"typ_frac_ped",size:12,items:s.filter((function(e){return e.rubrique===V.jj.TYPE_FRACTURE_PEDIATRIE})),value:dt(t,V.yP.examen,V.jj.TYPE_FRACTURE_PEDIATRIE,!0),disabled:t.statut>V.yP.examen},"typ_frac_ped")]}),(0,h.jsxs)("div",{className:"row",id:"col-pls",children:[(0,h.jsxs)("strong",{children:[(0,h.jsx)("h5",{style:{fontFamily:"monospace"},className:"text-primary",children:"Autres param\xe8tres"}),(0,h.jsx)("hr",{})]}),(0,h.jsx)(me.bA,{label:"Coloration p\xe9riph\xe9rique du membre",name:"exa_col",items:s.filter((function(e){return e.rubrique===V.jj.COLORATION_MEMBRE})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.COLORATION_MEMBRE,!1),disabled:t.statut>V.yP.examen},"exa_col"),(0,h.jsx)(me.bA,{label:"Pouls p\xe9riph\xe9riques",name:"exa_pouls_per",items:s.filter((function(e){return e.rubrique===V.jj.POULS_PERIPHERIQUE})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.POULS_PERIPHERIQUE,!1),disabled:t.statut>V.yP.examen},"exa_pouls_per"),(0,h.jsx)(me.bA,{label:"Temp\xe9rature du membre",name:"exa_temp_mem",items:s.filter((function(e){return e.rubrique===V.jj.TEMPERATURE_MEMBRE})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.TEMPERATURE_MEMBRE,!1),disabled:t.statut>V.yP.examen},"exa_temp_mem"),(0,h.jsx)(me.bA,{label:"Sensibilit\xe9",name:"exa_sens",items:s.filter((function(e){return e.rubrique===V.jj.SENSIBILITE})),size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.SENSIBILITE,!1),disabled:t.statut>V.yP.examen},"exa_sens")]}),(0,h.jsxs)("div",{className:"row",id:"exa_autres",children:[(0,h.jsxs)("strong",{children:[(0,h.jsx)("h5",{style:{fontFamily:"monospace"},className:"text-primary",children:"Examen des appareils"})," ",(0,h.jsx)("hr",{})]}),(0,h.jsx)(me.gZ,{label:"Appareil digestif",multiple:!0,size:12,name:"exa_app_dig",rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.EXAMEN_APP_DIGESTIF,!1),disabled:t.statut>V.yP.examen},"exa_app_dig"),(0,h.jsx)(me.gZ,{label:"Appareil Urog\xe9nital",multiple:!0,name:"exa_app_uro",size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.EXAMEN_APP_UROGENITAL,!1),disabled:t.statut>V.yP.examen},"exa_app_uro"),(0,h.jsx)(me.gZ,{label:"Appareil cardio vasculaire",multiple:!0,name:"exa_app_cardio",size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.EXAMEN_APP_CARDIO,!1),disabled:t.statut>V.yP.examen},"exa_app_cardio"),(0,h.jsx)(me.gZ,{label:"Examen neurologique",multiple:!0,name:"exa_app_neuro",size:12,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.examen,V.jj.EXAMEN_APP_NEURO,!1),disabled:t.statut>V.yP.examen},"exa_app_neuro")]}),(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsx)(me.bA,{multiple:!0,size:12,label:"Radiographies initiales",name:"exa_rad_ini",items:s.filter((function(e){return e.rubrique===V.jj.EXAMEN_RADIO_INITIALES})),value:dt(t,V.yP.examen,V.jj.EXAMEN_RADIO_INITIALES,!0),disabled:t.statut>V.yP.examen},"exa_rad_ini"),(0,h.jsxs)("div",{className:"row mt-2",children:[(0,h.jsxs)("strong",{children:[(0,h.jsx)("h5",{style:{fontFamily:"monospace"},className:"text-primary",children:"Sch\xe9ma des fractures"}),(0,h.jsx)("hr",{})]}),(0,h.jsx)("label",{htmlFor:"sh\xe9ma-fracture",className:"col-md-8",children:"Sch\xe9ma des fractures p\xe9diatriques / adultes"})," ",(0,h.jsx)("div",{children:(0,h.jsx)(ue.Z.Item,{label:"Upload",valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:null===e||void 0===e?void 0:e.fileList},children:(0,h.jsx)(Xe.Z,{action:"/upload.do",listType:"picture-card",children:(0,h.jsxs)("div",{children:[(0,h.jsx)(l.wEH,{}),(0,h.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})})})]})]})]}),t.statut>V.yP.examen?(0,h.jsxs)(q.Z,{className:"ms-auto",children:[(0,h.jsx)("button",{type:"button",className:"btn btn-outline-secondary ml-3 rounded-pill ",onClick:function(){return i(V.yP.enquete)},children:"Precedent"}),(0,h.jsx)("button",{type:"button",className:"btn btn-primary ml-3 rounded-pill ",onClick:function(){return i(V.yP.diagnostic)},children:"Suivant"})]}):(0,h.jsx)(me.ZS,{},"nav-acq-examen")," "]})},"acq-examen-form")})},He=function(e){var t=e.dossier,s=e.eltRubriques,n=e.activeKey,i=e.setActiveKey,r=e.reloadData,a=ue.Z.useForm(),l=(0,o.Z)(a,1)[0],c=(0,d.useState)(!1),u=(0,o.Z)(c,2),m=u[0],p=u[1],x=s.filter((function(e){return e.rubrique===V.jj.PREMIERS_SOINS})),j=s.filter((function(e){return e.rubrique===V.jj.DELAI_FS})),f=s.filter((function(e){return e.rubrique===V.jj.MOYENS_TRANSPORT}));return(0,h.jsx)(te.Z,{spinning:m,className:"row",children:(0,h.jsx)(ue.Z,{name:"acq-histoire-form",form:l,className:n===V.yP.histoire?"collapse show":"d-none",id:"acq-histoire",labelCol:{span:8},scrollToFirstError:!0,onFinish:function(){var e=(0,$.Z)((0,J.Z)().mark((function e(s){var n;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),n={dossierId:t.id,statut:V.yP.enquete,step:"1",eltDossiers:[{dossier:t.id,rubrique:V.jj.DATE_TRAUMATISME,valeur:[new Date(s.hist_date).toLocaleString()],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.PREMIERS_SOINS,valeur:[s.hist_premier_soin],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.DELAI_FS,valeur:[s.hist_delai_fs],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.MOYENS_TRANSPORT,valeur:[s.hist_moyen_trans],date_update:(new Date).toLocaleString(),statut:1}]},e.next=4,(0,R.a3)(n).then(function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.success?(ee.Z.success({message:"Succ\xe8s",description:t.message}),r(!0),i(V.yP.enquete)):ee.Z.error({message:"Erreur",description:t.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:p(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:(0,h.jsxs)("div",{className:"card card-body",children:[(0,h.jsx)(me.sT,{title:"Histoire de la maladie"},"dossier-acq-histoire"),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)(me.Ne,{label:"Date du traumatisme",name:"hist_date",rules:[pe.f.ruleNoRequired],size:7,value:dt(t,V.yP.histoire,V.jj.DATE_TRAUMATISME,!1),disabled:t.statut>V.yP.histoire},"hist_date"),(0,h.jsx)(me.bA,{label:"Premiers soins par",name:"hist_premier_soin",items:x,size:7,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.histoire,V.jj.PREMIERS_SOINS,!1),disabled:t.statut>V.yP.histoire},"hist_premier_soin"),(0,h.jsx)(me.bA,{label:"D\xe9lai d'arriv\xe9e \xe0 la FS",name:"hist_delai_fs",items:j,size:7,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.histoire,V.jj.DELAI_FS,!1),disabled:t.statut>V.yP.histoire},"hist_delai_fs"),(0,h.jsx)(me.bA,{label:"Moyen de transport vers la FS",name:"hist_moyen_trans",items:f,size:7,rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.histoire,V.jj.MOYENS_TRANSPORT,!1),disabled:t.statut>V.yP.histoire},"hist_moyen_trans")]}),t.statut>V.yP.histoire?(0,h.jsxs)(q.Z,{className:"ms-auto",children:[(0,h.jsx)("button",{type:"button",className:"btn btn-outline-secondary ml-3 rounded-pill ",onClick:function(){return i(V.yP.motif)},children:"Precedent"}),(0,h.jsx)("button",{type:"button",className:"btn btn-primary rounded-pill ",onClick:function(){return i(V.yP.enquete)},children:"Suivant"})]}):(0,h.jsx)(me.ZS,{},"nav-acq-histoire")]})},"acq-histoire-form")})},Be=function(e){var t,s,n=e.dossier,i=e.reloadData,r=e.eltRubriques,a=e.activeKey,l=e.setActiveKey,c=ue.Z.useForm(),u=(0,o.Z)(c,1)[0],m=(0,d.useState)(!1),p=(0,o.Z)(m,2),x=p[0],j=p[1],f=n.payload,v=r.filter((function(e){return e.rubrique===V.jj.TYPE_ACCIDENT})),b=r.filter((function(e){return e.rubrique===V.jj.MECANISME_TRAUMATISME}));return(0,h.jsx)(te.Z,{spinning:x,className:"row",children:(0,h.jsx)(ue.Z,{name:"acq-motif-form-"+n.id,form:u,className:a===V.yP.motif?"collapse show":"d-none",id:"acq-motif-"+n.id,labelCol:{span:8},scrollToFirstError:!0,onFinish:function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){var s;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),s={dossierId:n.id,statut:V.yP.histoire,step:"1",eltDossiers:[{dossier:n.id,rubrique:V.jj.DOULEURS_LOCALISEES,valeur:!t.motif_douleurs_local||t.motif_douleurs_local,date_update:(new Date).toLocaleString(),statut:1},{dossier:n.id,rubrique:V.jj.IMPOTENCE_FONCTIONNELLE,valeur:!!t.motif_impotence&&t.motif_impotence,date_update:(new Date).toLocaleString(),statut:1},{dossier:n.id,rubrique:V.jj.TYPE_ACCIDENT,valeur:[t.motif_type_accident],date_update:(new Date).toLocaleString(),statut:1},{dossier:n.id,rubrique:V.jj.MECANISME_TRAUMATISME,valeur:[t.motif_mecanisme],date_update:(new Date).toLocaleString(),statut:1}]},e.next=4,(0,R.a3)(s).then(function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.success?(i(!0),ee.Z.success({message:"Succ\xe8s",description:t.message}),i(!0),l(V.yP.histoire)):ee.Z.error({message:"Erreur",description:t.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.Z.error({message:"Erreur",description:"Impossible de creer l'element du dossier"})}));case 4:j(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:(0,h.jsxs)("div",{className:"card card-body",children:[(0,h.jsx)(me.sT,{title:"Motif de consultation"},"dossier-acq-motif-"+n.id),(0,h.jsxs)("div",{className:"",children:[(0,h.jsx)(me.S8,{label:"Traumatisme avec douleurs localis\xe9es",name:"motif_douleurs_local",value:f.length>0&&n.statut>=V.yP.motif?1===(null===(t=f.find((function(e){return e.rubrique===V.jj.DOULEURS_LOCALISEES})))||void 0===t?void 0:t.valeur):null,disabled:n.statut>V.yP.motif},"motif_douleurs_local"),(0,h.jsx)(me.S8,{label:"Impotence fonctionnelle",name:"motif_impotence",value:f.length>0&&n.statut>=V.yP.motif?1===(null===(s=f.find((function(e){return e.rubrique===V.jj.IMPOTENCE_FONCTIONNELLE})))||void 0===s?void 0:s.valeur):null,disabled:n.statut>V.yP.motif},"motif_impotence"),(0,h.jsx)(me.bA,{size:12,label:"Type d'accident",name:"motif_type_accident",items:v,rules:[pe.f.ruleRequired],value:dt(n,V.yP.motif,V.jj.TYPE_ACCIDENT,!1),disabled:n.statut>V.yP.motif},"motif_type_accident"),(0,h.jsx)(me.bA,{size:12,label:"M\xe9canisme ayant caus\xe9 le traumatisme",name:"motif_mecanisme",items:b,value:dt(n,V.yP.motif,V.jj.MECANISME_TRAUMATISME,!1),disabled:n.statut>V.yP.motif},"motif_mecanisme")]}),n.statut>V.yP.motif?(0,h.jsx)(q.Z,{className:"ms-auto",children:(0,h.jsx)("button",{type:"button",className:"btn btn-primary ml-3 rounded-pill",onClick:function(){return l(V.yP.histoire)},children:"Suivant"})}):(0,h.jsx)(me.ZS,{},"nav-acq-motif")]})},"acq-motif-form-"+n.id)})},Je=function(e){var t=e.dossier,s=(e.eltDossiers,e.rubriques,e.activeKey),n=e.setActiveKey,i=e.reloadData,r=ue.Z.useForm(),a=(0,o.Z)(r,1)[0],l=(0,d.useState)(!1),c=(0,o.Z)(l,2),u=c[0],m=c[1],p=(0,d.useState)(""),x=(0,o.Z)(p,2),j=x[0],f=x[1],v=(0,d.useState)(dt(t,V.yP.score,V.jj.SCORE_GCS,!1)?dt(t,V.yP.score,V.jj.SCORE_GCS,!1):0),b=(0,o.Z)(v,2),g=b[0],_=b[1],y=(0,d.useState)(0),N=(0,o.Z)(y,2),E=N[0],S=N[1],Z=(0,d.useState)(0),A=(0,o.Z)(Z,2),P=A[0],I=A[1],T=(0,d.useState)(0),k=(0,o.Z)(T,2),w=k[0],D=k[1],C=(0,d.useState)(0),O=(0,o.Z)(C,2),L=O[0],M=O[1],F=(0,d.useState)(0),z=(0,o.Z)(F,2),U=z[0],G=z[1],K=(0,d.useState)(0),W=(0,o.Z)(K,2),Y=W[0],X=W[1];return(0,h.jsx)(te.Z,{spinning:u,className:"row",children:(0,h.jsx)(ue.Z,{name:"acq-score-form",form:a,className:s===V.yP.score?"collapse show":"d-none",id:"acq-score",labelCol:{span:8},scrollToFirstError:!0,onFinish:function(){var e=(0,$.Z)((0,J.Z)().mark((function e(s){var r;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),r={dossierId:t.id,statut:V.yP.decision,step:"1",eltDossiers:[{dossier:t.id,rubrique:V.jj.SCORE_GCS,valeur:[g],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.SCORE_ISS,valeur:[P],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.SCORE_RTS,valeur:[w],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.SCORE_TRISS,valeur:[L],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.SCORE_MESS,valeur:[U],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.SCORE_GHOISS,valeur:[Y],date_update:(new Date).toLocaleString(),statut:1}]},console.log("data to post in score form : ",r),e.next=5,(0,R.a3)(r).then(function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.success?(ee.Z.success({message:"Succ\xe8s",description:t.message}),i(!0),n(V.yP.decision)):ee.Z.error({message:"Erreur",description:t.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:m(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:(0,h.jsxs)("div",{className:"card card-body",children:[(0,h.jsx)(me.sT,{title:"Score pr\xe9dictifs - Trauma Score"},"dossier-acq-score"),(0,h.jsxs)("div",{children:[(0,h.jsx)(me.W5,{selectedScore:j,setSelectedScore:f,scores:{GCS:{value:g,setValue:_},AIS:{value:E,setValue:S},ISS:{value:E,setValue:S},RTS:{value:E,setValue:S},TRISS:{value:E,setValue:S},MESS:{value:E,setValue:S},GHOISS:{value:E,setValue:S}}}),(0,h.jsx)("hr",{}),t.statut>V.yP.score?(0,h.jsx)("span",{}):(0,h.jsx)(me.l1,{selectedScore:j,scoreGCS:_,scoreISS:I,scoreRTS:D,scoreTRISS:M,scoreMESS:G,scoreGHOISS:X})]}),t.statut>V.yP.score?(0,h.jsxs)(q.Z,{className:"ms-auto mt-5",children:[(0,h.jsx)("button",{type:"button",className:"btn btn-outline-secondary ml-3 rounded-pill ",onClick:function(){return n(V.yP.diagnostic)},children:"Precedent"}),(0,h.jsx)("button",{type:"button",className:"btn btn-primary rounded-pill ",onClick:function(){return n(V.yP.decision)},children:"Suivant"})]}):(0,h.jsx)(me.ZS,{},"nav-acq-score")]})},"acq-score-form")})},$e=function(e){var t=e.formRef;return(0,h.jsxs)(ue.Z,{name:"acq-deces-form",form:t,id:"acq-deces",labelCol:{span:8},scrollToFirstError:!0,children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("i",{className:"col-md-1",children:(0,h.jsx)(l.L03,{size:24,color:m.k8})}),(0,h.jsx)("strong",{className:"col-md-8",children:(0,h.jsx)("h5",{style:{fontFamily:"monospace"},className:"text-primary",children:"D\xe9c\xe8s"})})]}),(0,h.jsx)("hr",{}),(0,h.jsxs)("div",{children:[(0,h.jsx)(me.Ne,{label:"Date du deces",name:"deces_date",formRef:t},"deces_date"),(0,h.jsx)(me.gZ,{label:"Motif",name:"deces_motif",size:12},"deces_motif"),(0,h.jsx)(me.gZ,{label:"Notes",name:"deces_notes",multiple:!0,size:12},"deces_notes")]})]},"acq-deces-form")},et=function(e){var t=e.formRef,s=localStorage.getItem("formationSanitaires"),n=s?JSON.parse(s):[],i=localStorage.getItem("praticiens"),r=i?JSON.parse(i):[];return(0,h.jsxs)(ue.Z,{name:"acq-transfert-form",form:t,id:"acq-transfert",labelCol:{span:8},scrollToFirstError:!0,children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("i",{className:"col-md-1",children:(0,h.jsx)(l.qau,{size:24,color:m.k8})}),(0,h.jsxs)("strong",{className:"col-md-8",children:[(0,h.jsx)("h5",{style:{fontFamily:"monospace"},className:"text-primary",children:"Transf\xe9rer le dossier"})," "]})]}),(0,h.jsx)("hr",{}),(0,h.jsxs)("div",{children:[(0,h.jsx)(me.Ne,{label:"Date du transfert",name:"transfert_date",formRef:t},"transfert_date"),(0,h.jsx)(me.bA,{label:"Formations sanitaires",name:"formation_sanitaires",items:n,size:12,multiple:!0,placeholder:"Selectionner la formation sanitaire"},"transfert_formation_sanitaire"),(0,h.jsx)(me.bA,{label:"Praticiens",name:"praticiens",items:r,size:12,multiple:!0,placeholder:"Selectionner le medecin \xe0 qui transf\xe9rer le dossier"},"transfert-praticien"),(0,h.jsx)(me.gZ,{label:"Motif",name:"transfert_motif",size:12},"transfert_motif"),(0,h.jsx)(me.gZ,{label:"Notes",name:"transfert_notes",multiple:!0,size:12},"transfert_notes")]})]},"acq-transfert-form")},tt=function(e){var t=e.formRef;return(0,h.jsxs)(ue.Z,{name:"acq-tampon-form",form:t,id:"acq-tampon",labelCol:{span:8},scrollToFirstError:!0,children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("i",{className:"col-md-1",children:(0,h.jsx)(l.fHX,{size:24,color:m.k8})}),(0,h.jsx)("strong",{className:"col-md-8",children:(0,h.jsx)("h5",{style:{fontFamily:"monospace"},className:"text-primary",children:"Sortie contre avis medical"})})]}),(0,h.jsx)("hr",{}),(0,h.jsxs)("div",{children:[(0,h.jsx)(me.Ne,{label:"Date de la sortie",name:"tampon_date",formRef:t},"tampon_date"),(0,h.jsx)(me.gZ,{label:"Motif",name:"tampon_motif",size:12},"tampon_motif"),(0,h.jsx)(me.gZ,{label:"Notes",name:"tampon_notes",multiple:!0,size:12},"tampon_notes")]})]},"acq-tampon-form")},st=function(e){var t=e.dossier,s=e.eltRubriques,n=e.activeKey,i=e.setActiveKey,r=e.setActiveTag,a=e.reloadData,l=ue.Z.useForm(),c=(0,o.Z)(l,1)[0],u=ue.Z.useForm(),m=(0,o.Z)(u,1)[0],p=(0,d.useState)(!1),x=(0,o.Z)(p,2),j=x[0],f=x[1],v=(0,d.useState)(""),b=(0,o.Z)(v,2),g=b[0],_=b[1];return(0,h.jsx)(te.Z,{spinning:j,className:"row",children:(0,h.jsx)(ue.Z,{name:"acq-statut-form",form:c,className:n===V.yP.decision?"collapse show":"d-none",id:"acq-statut",labelCol:{span:8},scrollToFirstError:!0,onFinish:function(){var e=(0,$.Z)((0,J.Z)().mark((function e(s){var n;return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),n=(0,Ee.Z)((0,Ee.Z)({dossierId:t.id,statut:g===V.am.deces?V.yP.decede:V.yP.anamnese,step:g===V.am.deces?"1":"2",eltDossiers:[{dossier:t.id,rubrique:V.jj.STATUT_PRETHERA,valeur:[s.statut_prethera],date_update:(new Date).toLocaleString(),statut:1},{dossier:t.id,rubrique:V.jj.STATUT_DECISION,valeur:[s.statut_decision],date_update:(new Date).toLocaleString(),statut:1}]},m.getFieldsValue()),{},{deces:g===V.am.deces?1:0,transfert:g===V.am.transfert?1:0,puffer:g===V.am.tampon?1:0}),e.next=4,(0,R.a3)(n).then(function(){var e=(0,$.Z)((0,J.Z)().mark((function e(t){return(0,J.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.success?(ee.Z.success({message:"Succ\xe8s",description:t.message}),a(!0),r("2")):ee.Z.error({message:"Erreur",description:t.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:f(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:(0,h.jsxs)("div",{className:"card card-body",children:[(0,h.jsx)(me.sT,{title:"Statut clinique"},"dossier-acq-statut"),(0,h.jsxs)("div",{children:[(0,h.jsx)(me._I,{label:"Statut clinique pr\xe9th\xe9rapeutique",name:"statut_prethera",items:s.filter((function(e){return e.rubrique===V.jj.STATUT_PRETHERA})),rules:[pe.f.ruleNoRequired],defaultValue:dt(t,V.yP.decision,V.jj.STATUT_PRETHERA,!1),disabled:t.statut>V.yP.decision},"statut_prethera"),(0,h.jsx)(me.bA,{label:"Decision th\xe9rapeutique",name:"statut_decision",size:12,items:s.filter((function(e){return e.rubrique===V.jj.STATUT_DECISION})),rules:[pe.f.ruleNoRequired],value:dt(t,V.yP.decision,V.jj.STATUT_DECISION,!1),disabled:t.statut>V.yP.decision,handleSelect:_},"statut_decision"),g===V.am.tampon?(0,h.jsx)(tt,{formRef:m},"statut-tampon-form"):g===V.am.transfert?(0,h.jsx)(et,{formRef:m},"statut-transfert-form"):g===V.am.deces?(0,h.jsx)($e,{formRef:m},"statut-deces-form"):""]}),t.statut>V.yP.decision?(0,h.jsx)(q.Z,{className:"ms-auto",children:(0,h.jsx)("button",{type:"button",className:"btn btn-outline-secondary ml-3 rounded-pill",onClick:function(){return i(V.yP.score)},children:"Precedent"})}):(0,h.jsx)(me.ZS,{},"nav-acq-statut")]})},"acq-statut-form")})},nt=function(e){var t=e.dossier,s=(e.reloadData,e.eltRubriques,e.activeKey),n=(e.setActiveKey,ue.Z.useForm()),i=(0,o.Z)(n,1)[0],r=(0,d.useState)(!1),a=(0,o.Z)(r,2),l=a[0];a[1],t.payload;return(0,h.jsx)(te.Z,{spinning:l,children:(0,h.jsx)(ue.Z,{name:"acq-antecedent-form-"+t.id,form:i,className:s===V.yP.antecedent?"collapse show":"d-none",id:"acq-antecedent-"+t.id,labelCol:{span:8},scrollToFirstError:!0,children:(0,h.jsxs)("div",{className:"card card-body",children:[(0,h.jsx)(me.sT,{title:"Antecedents m\xe9dicaux"},"dossier-acq-antecedent-"+t.id),(0,h.jsx)("div",{className:"",children:(0,h.jsx)("span",{children:"Coming soon"})})]})},"acq-antecedent-form-"+t.id)})},it=function(e){var t=e.dossier,s=(e.reloadData,e.eltRubriques,e.activeKey),n=(e.setActiveKey,ue.Z.useForm()),i=(0,o.Z)(n,1)[0],r=(0,d.useState)(!1),a=(0,o.Z)(r,2),l=a[0];a[1],t.payload;return(0,h.jsx)(te.Z,{spinning:l,children:(0,h.jsx)(ue.Z,{name:"acq-comorbidite-form-"+t.id,form:i,className:s===V.yP.comorbidite?"collapse show":"d-none",id:"acq-comorbidite-"+t.id,labelCol:{span:8},scrollToFirstError:!0,children:(0,h.jsxs)("div",{className:"card card-body",children:[(0,h.jsx)(me.sT,{title:"Comorbidit\xe9s"},"dossier-acq-comorbidite-"+t.id),(0,h.jsx)("div",{className:"",children:(0,h.jsx)("span",{children:"Coming soon"})})]})},"acq-comorbidite-form-"+t.id)})},rt=function(e){var t=e.dossier,s=e.eltDossiers,n=e.eltRubriques,i=e.rubriques,r=e.setActiveTag,a=e.reloadData,l=(0,d.useState)(t.statut),c=(0,o.Z)(l,2),u=c[0],m=c[1];return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{id:"acq-tag",children:(0,h.jsx)(q.Z,{className:"mb-3 btn-group",wrap:!0,children:V.ve.map((function(e){return(0,h.jsx)(me.Dn,{name:e.value,label:e.label,bscolor:e.bscolor,activeKey:u,setActiveKey:m,statut:t.statut})}))})}),(0,h.jsx)(Be,{dossier:t,reloadData:a,eltRubriques:n,activeKey:u,setActiveKey:m}),(0,h.jsx)(He,{dossier:t,reloadData:a,eltRubriques:n,activeKey:u,setActiveKey:m}),(0,h.jsx)(nt,{dossier:t,reloadData:a,eltRubriques:n,activeKey:u,setActiveKey:m}),(0,h.jsx)(it,{dossier:t,reloadData:a,eltRubriques:n,activeKey:u,setActiveKey:m}),(0,h.jsx)(Ve,{dossier:t,reloadData:a,eltRubriques:n,activeKey:u,setActiveKey:m}),(0,h.jsx)(Qe,{dossier:t,reloadData:a,eltRubriques:n,activeKey:u,setActiveKey:m}),(0,h.jsx)(Ye,{dossier:t,reloadData:a,eltDossiers:s,activeKey:u,setActiveKey:m}),(0,h.jsx)(Je,{dossier:t,reloadData:a,eltDossiers:s,rubriques:i,activeKey:u,setActiveKey:m}),(0,h.jsx)(st,{dossier:t,eltRubriques:n,activeKey:u,setActiveKey:m,setActiveTag:r,reloadData:a})]})},at=function(){return(0,h.jsx)("div",{className:"p-5",children:"Coming soon"})},lt=function(){return(0,h.jsx)("div",{className:"p-5",children:"Coming soon"})},ot=function(){return(0,h.jsx)("div",{className:"p-5",children:"Coming soon"})},ct=function(){var e=(0,a.k6)().location.state,t=(0,d.useState)(e.dossier),s=(0,o.Z)(t,2),n=s[0],i=s[1],r=(0,d.useState)(n.step),c=(0,o.Z)(r,2),u=c[0],m=c[1],p=(0,d.useState)([]),x=(0,o.Z)(p,2),j=x[0],f=x[1],v=(0,d.useState)([]),b=(0,o.Z)(v,2),g=b[0],_=b[1],y=(0,d.useState)([]),N=(0,o.Z)(y,2),E=N[0],S=N[1],Z=(0,d.useState)(!1),A=(0,o.Z)(Z,2),P=A[0],I=A[1];(0,d.useEffect)((function(){(0,R.$7)().then((function(e){e.success&&_(e.result)})),(0,R.mF)().then((function(e){e.success&&f(e.result)})),(0,R.Re)().then((function(e){if(e.success){var t=e.result.filter((function(e){return e.dossier===n.id}));S(t)}})),P&&(console.log("handle reload changes"),(0,R.bP)(n.id).then((function(e){console.log("reload dossier after changes : ",e.result),I(!1),e.success?i(e.result):ee.Z.error({message:"Erreur",description:"Un probl\xe8me est survenu. Impossible d'afficher' le dossier."})})))}),[n,P]);var q=[{key:"1",label:(0,h.jsxs)("span",{children:[(0,h.jsx)(l.X4v,{className:"mx-3",size:28}),"Anamnese et diagnostic"]}),children:(0,h.jsx)(rt,{dossier:n,eltDossiers:E,eltRubriques:j,rubriques:g,setActiveTag:m,reloadData:I})},{key:"2",label:(0,h.jsxs)("span",{children:[(0,h.jsx)(l.pzu,{className:"mx-3",size:28}),"Traitement"]}),children:(0,h.jsx)(at,{}),disabled:n.statut<20},{key:"3",label:(0,h.jsxs)("span",{children:[(0,h.jsx)(l.TjG,{className:"mx-3",size:28}),"Suivi post op\xe9ratoire"]}),children:(0,h.jsx)(lt,{}),disabled:n.statut<30},{key:"4",label:(0,h.jsxs)("span",{children:[(0,h.jsx)(l.wO,{className:"mx-3",size:28}),"R\xe9habilitation"]}),children:(0,h.jsx)(ot,{}),disabled:n.statut<40}];return(0,h.jsx)("section",{className:"section profile",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"card card-body",children:(0,h.jsx)(re.Z,{defaultActiveKey:"1",items:q,activeKey:u,onTabClick:function(e){console.log("in navigation tag dossier ",e,n.step),I(!0),e<=n.step&&m(e)}})})})})},dt=function(e,t,s,n){var i,r,a,l=e.payload,o=[];l.length>0&&e.statut>t&&(n?null===(r=l.filter((function(e){return e.rubrique===s})))||void 0===r||r.map((function(e){o.push(e.valeur)})):i=null===(a=l.find((function(e){return e.rubrique===s})))||void 0===a?void 0:a.valeur);return n?o:i},ut=function(){var e=(0,a.k6)(),t=e.location.state?e.location.state:{dossier:null,readOnly:!1},s=t.dossier;t.readOnly;return(0,d.useEffect)((function(){s||(ee.Z.error({message:"Erreur",description:"Veuillez selectionner un patient pour consulter son dossier"}),e.push(u.Z.PATIENT_PAGE.LIST_PATIENT))}),[s,e]),(0,h.jsxs)(_,{clicked:"registre-all",children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("h2",{className:"col-md-6",children:[(0,h.jsx)(Y.rU,{to:u.Z.REGISTRE_PAGE.PRINCIPAL,children:"Registre principal"})," |","  ",(0,h.jsx)("span",{className:"",children:"P"+s.patient.id+"FS"+s.formation_sanitaire.id+"D"+s.id})]}),(0,h.jsx)("div",{className:"col-md-6 ms-auto",children:(0,h.jsx)(Pe,{width:800,buttonText:"Informations personnelles",buttonProps:{style:{backgroundColor:"#F5F8FF"},className:"btn rounded-pill",icon:(0,h.jsx)(l.q1E,{style:{marginRight:5,marginBottom:2},size:20})},modalProps:{title:"Informations personnelles du patient"},children:function(e){return(0,h.jsx)(fe,{patient:s.patient,readOnly:!0},"patient-details")}})})]}),(0,h.jsx)(ct,{})]})},mt=s(4500),pt=s(2718),xt=mt.mM.create({page:{flexDirection:"column",flex:1},section:{margin:10,padding:10,flexGrow:1},textLabel:{marginLeft:5},textValue:{fontWeight:"thin"},textLine:{marginLeft:25,marginTop:10,marginBottom:5}}),jt=function(e){var t,s,n=e.dossier;console.log("i'm rendering well in show dossier page as PDF. Here it's me !",n);return(0,h.jsx)(mt.BB,{children:(0,h.jsxs)(mt.T3,{size:"A4",style:xt.page,children:[(0,h.jsxs)(mt.G7,{style:xt.section,children:[(0,h.jsx)(mt.xv,{children:" IDENTITE DU PRATICIEN "}),(0,h.jsxs)(mt.xv,{style:xt.textLine,children:[" ","Nom : ",n.praticien.nom," "]}),(0,h.jsxs)(mt.xv,{style:xt.textLine,children:[" ","Prenom : ",n.praticien.prenom," "]}),(0,h.jsxs)(mt.xv,{style:xt.textLine,children:[" ","Qualification :"," ",null===(t=(0,V.YC)(n.praticien.qualification))||void 0===t?void 0:t.designation," "]}),(0,h.jsxs)(mt.xv,{style:xt.textLine,children:[" ","Ann\xe9es d'experiences : ",n.praticien.nb_experience]}),(0,h.jsxs)(mt.xv,{style:xt.textLine,children:[" ","Adh\xe9rant \xe0 un r\xe9seau de traumatologie :"," ",0===(null===(s=n.praticien.organismes)||void 0===s?void 0:s.length)?"aucun":n.praticien.organismes.map((function(e,t){var s;return pt.DY.find((function(t){return t.id===e&&t.type_organisme===V.jj.RESEAU_TRAUMATOLOGIE}))?(null===(s=pt.DY.find((function(t){return t.id===e&&t.type_organisme===V.jj.RESEAU_TRAUMATOLOGIE})))||void 0===s?void 0:s.designation)+", ":""}))]})]}),(0,h.jsx)(mt.G7,{style:xt.section,children:(0,h.jsx)(mt.xv,{children:" FORMATION SANITAIRE "})})]})})},ft=s(586),ht=function(){var e=(0,a.k6)(),t=e.location.state?e.location.state:{dossier:null,readOnly:!1},s=t.dossier;t.readOnly;return(0,d.useEffect)((function(){s||(ee.Z.error({message:"Erreur",description:"Veuillez selectionner un dossier pour le consulter"}),e.push(u.Z.REGISTRE_PAGE.PRINCIPAL))}),[s,e]),(0,h.jsxs)(_,{clicked:"registre-all",children:[(0,h.jsxs)("h2",{className:"",children:[(0,h.jsx)(Y.rU,{to:u.Z.REGISTRE_PAGE.PRINCIPAL,children:"Registre principal"})," | DOSSIER N\xb0",(0,h.jsx)("span",{className:"text-primary",children:s.formation_sanitaire.id+"Y"+(null===s||void 0===s?void 0:s.patient.id)+"P"+s.id})]}),(0,h.jsx)(ft.Z,{children:(0,h.jsx)(mt.Z$,{style:{width:window.innerWidth/1.45,height:window.innerHeight},children:(0,h.jsx)(jt,{dossier:s})})})]})},vt=function(){var e=(0,a.k6)(),t=e.location.state?e.location.state:null;return(0,h.jsxs)(_,{clicked:"registre-fs",formation_sanitaire:null===t||void 0===t?void 0:t.formation_sanitaire,children:[(0,h.jsx)("h2",{children:" Registre | FS "})," ",(0,h.jsx)("hr",{}),(0,h.jsx)(ke,{formation_sanitaire:null===t||void 0===t?void 0:t.formation_sanitaire,title:" Registre | FS "},"list-fs")]})},bt=function(){var e=(0,a.k6)(),t=e.location.state?e.location.state:null;return(0,h.jsxs)(_,{clicked:"registre-praticien",praticien:null===t||void 0===t?void 0:t.praticien,children:[(0,h.jsx)("h2",{children:" Registre | Praticien "})," ",(0,h.jsx)("hr",{}),(0,h.jsx)(ke,{praticien:null!==t&&void 0!==t&&t.praticien?null===t||void 0===t?void 0:t.praticien:"0007",title:" Registre | Praticien "},"list-praticient")]})},gt=function(){var e=(0,a.k6)(),t=e.location.state?e.location.state:null;return(0,h.jsxs)(_,{clicked:"users-list",children:[(0,h.jsxs)("h2",{children:[(0,h.jsx)(Y.rU,{to:u.Z.USER_PAGE.LIST_USER,children:"Liste des utilisateurs"})," | Utilisateur M00P80Y"," ",(0,h.jsx)("span",{className:"text-primary m-0",children:null===t||void 0===t?void 0:t.user.id})]}),(0,h.jsx)("div",{className:"card mt-0",children:(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(P.J,{user:null===t||void 0===t?void 0:t.user,readOnly:null===t||void 0===t?void 0:t.readOnly})})})]})},_t=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.AW,{exact:!0,path:"/admin/dashboard",component:S}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/users",component:A.ComingSoonPage}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/users/new",component:I}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/users/show",component:gt}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/users/list",component:B}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/users/demandes",component:de}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/patients",component:A.ComingSoonPage}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/patients/new",component:he}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/patients/show",component:We}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/patients/list",component:_e}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/registre",component:A.ComingSoonPage}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/registre/all",component:we}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/registre/dossier/complete",component:ut}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/registre/dossier/show",component:ht}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/registre/fs",component:vt}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/registre/praticien",component:bt}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/registre/traitement",component:De}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/registre/tampon",component:Ce}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/registre/deces",component:Oe}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/analyse",component:A.ComingSoonPage}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/analyse/new",component:Me}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/analyse/demandes/new",component:Fe}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/analyse/demandes/list",component:ze}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/analyse/historique",component:Ue}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/documents",component:A.ComingSoonPage}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/documents/certificat",component:A.ComingSoonPage}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/documents/expertise",component:A.ComingSoonPage}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/documents/dossier",component:A.ComingSoonPage}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/parametres",component:A.ComingSoonPage}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/parametres/donnees",component:Ge}),(0,h.jsx)(a.AW,{exact:!0,path:"/admin/parametres/configuration",component:Ke})]})},yt=_t},3278:function(e,t,s){"use strict";s.r(t),s.d(t,{ComingSoonPage:function(){return l}});var n=s(6355),i=s(1523),r=s(9851),a=s(184),l=function(){return(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("section",{className:"section error-404 min-vh-100 d-flex flex-column align-items-center justify-content-center",children:[(0,a.jsx)("h1",{className:"mb-3",children:(0,a.jsxs)("i",{children:[(0,a.jsx)(n.Tks,{})," "]})}),(0,a.jsx)("h2",{className:"mb-2 text-center",children:"D\xe9sol\xe9, cette page n'est pas disponible pour l'instant. Nous travaillons sur cette fonctionnalit\xe9 et elle sera bient\xf4t disponible."}),(0,a.jsxs)("small",{children:["Pour tout probl\xe8me, veuillez contacter l'administrateur"," ",(0,a.jsxs)("i",{className:"mx-2",children:[" ",(0,a.jsx)(n.DNl,{})]}),"(+237) 655 244 570"]}),(0,a.jsx)(i.rU,{className:"btn mt-5",to:r.Z.ADMIN_PAGE.DASHBOARD,children:"Retour \xe0 la page d'accueil"})]})})};t.default=l},2480:function(){}}]);
//# sourceMappingURL=724.d854cf14.chunk.js.map